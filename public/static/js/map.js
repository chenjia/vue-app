webpackJsonp([20],{B1nd:function(t,n,e){"use strict";var o=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[e("mt-header",{attrs:{title:"百度地图"}},[e("mt-button",{attrs:{slot:"left",icon:"back"},on:{click:t.back},slot:"left"},[e("span",[t._v("返回")])])],1),t._v(" "),e("div",[e("baiduMap"),t._v(" "),e("div",{staticStyle:{height:"50%","overflow-y":"auto"}})],1)],1)},a=[],i={render:o,staticRenderFns:a};n.a=i},HY5g:function(t,n,e){"use strict";var o=e("rI6r"),a=e("oubx"),i=e("C7Lr"),r=i(o.a,a.a,!1,null,null,null);n.a=r.exports},oWOS:function(t,n,e){"use strict";var o=e("HY5g");n.a={name:"Map",components:{baiduMap:o.a},data:function(){return{}},methods:{},mounted:function(){}}},oubx:function(t,n,e){"use strict";var o=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{width:"100%",position:"absolute",top:"40px"},style:{height:t.screenHeight-40+"px"},attrs:{id:"mapBox"}},[e("iframe",{attrs:{src:"static/html/baiduMap.html?callback=mapCallback",width:"100%",height:"100%",frameborder:"0"}})])},a=[],i={render:o,staticRenderFns:a};n.a=i},rI6r:function(t,n,e){"use strict";var o=e("YtJ0");n.a={name:"BaiduMap",data:function(){return{}},methods:{},computed:{},mounted:function(){var t=0;window.mapCallback=function(n){console.log("in callback",utils.cache.get("position"));var e=new n.Map("mapBox"),a=utils.cache.get("position")||{lng:104,lat:35},i=new n.Point(a.lng,a.lat);e.centerAndZoom(i,4),e.addOverlay(new n.Marker(i)),navigator.geolocation.watchPosition(function(o){console.log(o);var a=o.coords.latitude,i=o.coords.longitude,r=new n.Point(i,a),s=new n.Convertor,c=[];c.push(r),s.translate(c,1,5,function(o){if(utils.cache.set("position",o.points[0]),0===o.status){console.log(o.points[0]);new n.Marker(o.points[0]);e.getOverlays()[0].setPosition(o.points[0]),t?e.panTo(o.points[0]):e.centerAndZoom(o.points[0],18),e.addControl(new n.NavigationControl),t=15e3}})},function(t){console.log(JSON.stringify(t.code)),o.a.commit("TOGGLE_POPUP",{visible:!0,text:"获取地理位置坐标失败！",duration:1e3})},{maximumAge:t,timeout:6e4,enableHighAccuracy:!0})}}}},t1kT:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=e("oWOS"),a=e("B1nd"),i=e("C7Lr"),r=i(o.a,a.a,!1,null,null,null);n.default=r.exports}});