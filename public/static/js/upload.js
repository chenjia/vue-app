webpackJsonp([14],{"/bqT":function(t,e,i){"use strict";function n(t,e){var i=t.length,n=void 0;for(n=0;n<i;n++)e.call(t,t[n],n,t);return t}var r=i("yvAY"),o=(i.n(r),i("fc0N")),a=i.n(o),s=i("YtJ0"),l=i("2adQ"),p=i.n(l),h=i("FnHi"),c=(i.n(h),i("k1bi")),u=i.n(c);Vue.use(p.a);var d=void 0;e.a={name:"Upload",data:function(){return{cropper:null,cropVisible:!1,uploadVisible:!1,galleryVisible:!1,options:{target:window.Config.server+"/upload/uploadFile",testChunks:!1},attrs:{accept:"image/*"},imgReady:!1,uploading:!1,percent:0,galleryList:[]}},methods:{showUpload:function(t){this[t]=!0},selectImg:function(t){var e=this,i=document.querySelector("#image"),r=document.querySelectorAll(".preview"),o=new FileReader;o.readAsDataURL(this.$refs.imgFile.files[0]),o.onload=function(t){e.imgReady=!0,e.percent=0,i.onload=function(){var t=i.width/i.height;document.querySelector(".uploadBox").style.height=e.screenWidth/t+"px"},d?(d.replace(this.result),r[0].innerHTML=""):(i.src=this.result,d=new u.a(i,{aspectRatio:1,crop:function(t){var e=t.detail,i=this.cropper,o=i.getImageData(),a=e.width/e.height;n(r,function(t){var i=t.getElementsByTagName("img").item(0),n=t.offsetWidth,r=n/a,s=e.width/n;t.style.height=r+"px",i.style.width=o.naturalWidth/s+"px",i.style.height=o.naturalHeight/s+"px",i.style.marginLeft=-e.x/s+"px",i.style.marginTop=-e.y/s+"px"})}}));var o=i.cloneNode();o.className="",o.style.cssText="display: block;width: 100%;min-width: 0;min-height: 0;max-width: none;max-height: none;",n(r,function(t){t.appendChild(o.cloneNode())})}},uploadImg:function(){var t=this;this.imgReady=!1,this.uploading=!0;var e=this.$refs.imgFile.files[0],i=d.getCroppedCanvas(),n=i.toDataURL(e.type);console.log(n.substr(0,100)),n=n.substr(n.indexOf(";base64,")+8),console.log(n.substr(0,100));var r=setInterval(function(){t.percent+=parseInt(5*Math.random(),10),t.percent>99&&(t.percent=99)},100);utils.http.post("/upload/uploadImg",{type:e.type.substr(6),base64url:n}).then(function(e){clearInterval(r),t.percent=100,setTimeout(function(){t.uploading=!1,t.percent=0},100)},function(t){console.log(t),s.a.commit("TOGGLE_POPUP",{visible:!0,text:"上传图片失败",duration:3e3})})},createGallery:function(){a.a.prompt("请输入相册名称").then(function(t){t.value,t.action})}},mounted:function(){}}},"1/zs":function(t,e,i){e=t.exports=i("UTlt")(!1),e.push([t.i,'/*!\n * Cropper.js v1.5.12\n * https://fengyuanchen.github.io/cropperjs\n *\n * Copyright 2015-present Chen Fengyuan\n * Released under the MIT license\n *\n * Date: 2021-06-12T08:00:11.623Z\n */.cropper-container{direction:ltr;font-size:0;line-height:0;position:relative;-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.cropper-container img{image-orientation:0deg;display:block;height:100%;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;width:100%}.cropper-canvas,.cropper-crop-box,.cropper-drag-box,.cropper-modal,.cropper-wrap-box{bottom:0;left:0;position:absolute;right:0;top:0}.cropper-canvas,.cropper-wrap-box{overflow:hidden}.cropper-drag-box{background-color:#fff;opacity:0}.cropper-modal{background-color:#000;opacity:.5}.cropper-view-box{display:block;height:100%;outline:1px solid #39f;outline-color:rgba(51,153,255,.75);overflow:hidden;width:100%}.cropper-dashed{border:0 dashed #eee;display:block;opacity:.5;position:absolute}.cropper-dashed.dashed-h{border-bottom-width:1px;border-top-width:1px;height:33.33333%;left:0;top:33.33333%;width:100%}.cropper-dashed.dashed-v{border-left-width:1px;border-right-width:1px;height:100%;left:33.33333%;top:0;width:33.33333%}.cropper-center{display:block;height:0;left:50%;opacity:.75;position:absolute;top:50%;width:0}.cropper-center:after,.cropper-center:before{background-color:#eee;content:" ";display:block;position:absolute}.cropper-center:before{height:1px;left:-3px;top:0;width:7px}.cropper-center:after{height:7px;left:0;top:-3px;width:1px}.cropper-face,.cropper-line,.cropper-point{display:block;height:100%;opacity:.1;position:absolute;width:100%}.cropper-face{background-color:#fff;left:0;top:0}.cropper-line{background-color:#39f}.cropper-line.line-e{cursor:ew-resize;right:-3px;top:0;width:5px}.cropper-line.line-n{cursor:ns-resize;height:5px;left:0;top:-3px}.cropper-line.line-w{cursor:ew-resize;left:-3px;top:0;width:5px}.cropper-line.line-s{bottom:-3px;cursor:ns-resize;height:5px;left:0}.cropper-point{background-color:#39f;height:5px;opacity:.75;width:5px}.cropper-point.point-e{cursor:ew-resize;margin-top:-3px;right:-3px;top:50%}.cropper-point.point-n{cursor:ns-resize;left:50%;margin-left:-3px;top:-3px}.cropper-point.point-w{cursor:ew-resize;left:-3px;margin-top:-3px;top:50%}.cropper-point.point-s{bottom:-3px;cursor:s-resize;left:50%;margin-left:-3px}.cropper-point.point-ne{cursor:nesw-resize;right:-3px;top:-3px}.cropper-point.point-nw{cursor:nwse-resize;left:-3px;top:-3px}.cropper-point.point-sw{bottom:-3px;cursor:nesw-resize;left:-3px}.cropper-point.point-se{bottom:-3px;cursor:nwse-resize;height:20px;opacity:1;right:-3px;width:20px}@media (min-width:768px){.cropper-point.point-se{height:15px;width:15px}}@media (min-width:992px){.cropper-point.point-se{height:10px;width:10px}}@media (min-width:1200px){.cropper-point.point-se{height:5px;opacity:.75;width:5px}}.cropper-point.point-se:before{background-color:#39f;bottom:-50%;content:" ";display:block;height:200%;opacity:0;position:absolute;right:-50%;width:200%}.cropper-invisible{opacity:0}.cropper-bg{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAQMAAAAlPW0iAAAAA3NCSVQICAjb4U/gAAAABlBMVEXMzMz////TjRV2AAAACXBIWXMAAArrAAAK6wGCiw1aAAAAHHRFWHRTb2Z0d2FyZQBBZG9iZSBGaXJld29ya3MgQ1M26LyyjAAAABFJREFUCJlj+M/AgBVhF/0PAH6/D/HkDxOGAAAAAElFTkSuQmCC")}.cropper-hide{display:block;height:0;position:absolute;width:0}.cropper-hidden{display:none!important}.cropper-move{cursor:move}.cropper-crop{cursor:crosshair}.cropper-disabled .cropper-drag-box,.cropper-disabled .cropper-face,.cropper-disabled .cropper-line,.cropper-disabled .cropper-point{cursor:not-allowed}',""])},"2adQ":function(t,e,i){!function(e,i){t.exports=i()}(0,function(){return function(t){function e(n){if(i[n])return i[n].exports;var r=i[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var i={};return e.m=t,e.c=i,e.i=function(t){return t},e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="./",e(e.s=24)}([function(t,e){function i(t,e){var i=t[1]||"",r=t[3];if(!r)return i;if(e&&"function"==typeof btoa){var o=n(r);return[i].concat(r.sources.map(function(t){return"/*# sourceURL="+r.sourceRoot+t+" */"})).concat([o]).join("\n")}return[i].join("\n")}function n(t){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+" */"}t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n=i(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n}).join("")},e.i=function(t,i){"string"==typeof t&&(t=[[null,t,""]]);for(var n={},r=0;r<this.length;r++){var o=this[r][0];"number"==typeof o&&(n[o]=!0)}for(r=0;r<t.length;r++){var a=t[r];"number"==typeof a[0]&&n[a[0]]||(i&&!a[2]?a[2]=i:i&&(a[2]="("+a[2]+") and ("+i+")"),e.push(a))}},e}},function(t,e){t.exports=function(t,e,i,n,r){var o,a=t=t||{},s=typeof t.default;"object"!==s&&"function"!==s||(o=t,a=t.default);var l="function"==typeof a?a.options:a;e&&(l.render=e.render,l.staticRenderFns=e.staticRenderFns),n&&(l._scopeId=n);var p;if(r?(p=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(r)},l._ssrRegister=p):i&&(p=i),p){var h=l.functional,c=h?l.render:l.beforeCreate;h?l.render=function(t,e){return p.call(e),c(t,e)}:l.beforeCreate=c?[].concat(c,p):[p]}return{esModule:o,exports:a,options:l}}},function(t,e,i){function n(t){for(var e=0;e<t.length;e++){var i=t[e],n=h[i.id];if(n){n.refs++;for(var r=0;r<n.parts.length;r++)n.parts[r](i.parts[r]);for(;r<i.parts.length;r++)n.parts.push(o(i.parts[r]));n.parts.length>i.parts.length&&(n.parts.length=i.parts.length)}else{for(var a=[],r=0;r<i.parts.length;r++)a.push(o(i.parts[r]));h[i.id]={id:i.id,refs:1,parts:a}}}}function r(){var t=document.createElement("style");return t.type="text/css",c.appendChild(t),t}function o(t){var e,i,n=document.querySelector("style["+m+'~="'+t.id+'"]');if(n){if(f)return g;n.parentNode.removeChild(n)}if(A){var o=d++;n=u||(u=r()),e=a.bind(null,n,o,!1),i=a.bind(null,n,o,!0)}else n=r(),e=s.bind(null,n),i=function(){n.parentNode.removeChild(n)};return e(t),function(n){if(n){if(n.css===t.css&&n.media===t.media&&n.sourceMap===t.sourceMap)return;e(t=n)}else i()}}function a(t,e,i,n){var r=i?"":n.css;if(t.styleSheet)t.styleSheet.cssText=b(e,r);else{var o=document.createTextNode(r),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(o,a[e]):t.appendChild(o)}}function s(t,e){var i=e.css,n=e.media,r=e.sourceMap;if(n&&t.setAttribute("media",n),v.ssrId&&t.setAttribute(m,e.id),r&&(i+="\n/*# sourceURL="+r.sources[0]+" */",i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */"),t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}var l="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!l)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var p=i(82),h={},c=l&&(document.head||document.getElementsByTagName("head")[0]),u=null,d=0,f=!1,g=function(){},v=null,m="data-vue-ssr-id",A="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());t.exports=function(t,e,i,r){f=i,v=r||{};var o=p(t,e);return n(o),function(e){for(var i=[],r=0;r<o.length;r++){var a=o[r],s=h[a.id];s.refs--,i.push(s)}e?(o=p(t,e),n(o)):o=[];for(var r=0;r<i.length;r++){var s=i[r];if(0===s.refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete h[s.id]}}}};var b=function(){var t=[];return function(e,i){return t[e]=i,t.filter(Boolean).join("\n")}}()},function(t,e,i){function n(t){i(77)}var r=i(1)(i(27),i(70),n,null,null);t.exports=r.exports},function(t,e){var i=Object.prototype,n=Array.prototype,r=i.toString,o=function(t){return"[object Function]"===r.call(t)},a=Array.isArray||function(t){return"[object Array]"===r.call(t)},s=function(t){return"[object Object]"===r.call(t)&&Object.getPrototypeOf(t)===i},l=0,p={uid:function(){return++l},noop:function(){},bind:function(t,e){return function(){return t.apply(e,arguments)}},preventEvent:function(t){t.preventDefault()},stop:function(t){t.preventDefault(),t.stopPropagation()},nextTick:function(t,e){setTimeout(p.bind(t,e),0)},toArray:function(t,e,i){return void 0===e&&(e=0),void 0===i&&(i=t.length),n.slice.call(t,e,i)},isPlainObject:s,isFunction:o,isArray:a,isObject:function(t){return Object(t)===t},isString:function(t){return"string"==typeof t},isUndefined:function(t){return void 0===t},isDefined:function(t){return void 0!==t},each:function(t,e,i){if(p.isDefined(t.length))for(var n=0,r=t.length;n<r&&!1!==e.call(i,t[n],n,t);n++);else for(var o in t)if(!1===e.call(i,t[o],o,t))break},evalOpts:function(t,e){return p.isFunction(t)&&(e=p.toArray(arguments),t=t.apply(null,e.slice(1))),t},extend:function(){var t,e,i,n,r,l,h=arguments[0]||{},c=1,u=arguments.length,d=!1;for("boolean"==typeof h&&(d=h,h=arguments[1]||{},c++),"object"==typeof h||o(h)||(h={}),c===u&&(h=this,c--);c<u;c++)if(null!=(t=arguments[c]))for(e in t)i=h[e],n=t[e],h!==n&&(d&&n&&(s(n)||(r=a(n)))?(r?(r=!1,l=i&&a(i)?i:[]):l=i&&s(i)?i:{},h[e]=p.extend(d,l,n)):void 0!==n&&(h[e]=n));return h},formatSize:function(t){return t<1024?t.toFixed(0)+" bytes":t<1048576?(t/1024).toFixed(0)+" KB":t<1073741824?(t/1024/1024).toFixed(1)+" MB":(t/1024/1024/1024).toFixed(1)+" GB"},defineNonEnumerable:function(t,e,i){Object.defineProperty(t,e,{enumerable:!1,configurable:!0,writable:!0,value:i})}};t.exports=p},function(t,e,i){var n,r,o;!function(a,s){r=[e,i(6)],n=s,void 0!==(o="function"==typeof n?n.apply(e,r):n)&&(t.exports=o)}(0,function(t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.supportMixin=t.uploaderMixin=void 0,t.uploaderMixin={mounted:function(){this.uploader=(0,e.getUploader)(this)}},t.supportMixin={data:function(){return{support:!0}},mounted:function(){this.support=this.uploader.support}}})},function(t,e,i){var n,r,o;!function(i,a){r=[e],n=a,void 0!==(o="function"==typeof n?n.apply(e,r):n)&&(t.exports=o)}(0,function(t){"use strict";function e(t){for(var e=t.$parent;e;){if(e.uploader)return e.uploader;e=e.$parent}return null}function i(t){function e(t){return t>1?"s":""}var i=Math.floor(t/31536e3);if(i)return i+" year"+e(i);var n=Math.floor((t%=31536e3)/86400);if(n)return n+" day"+e(n);var r=Math.floor((t%=86400)/3600);if(r)return r+" hour"+e(r);var o=Math.floor((t%=3600)/60);if(o)return o+" minute"+e(o);var a=t%60;return a+" second"+e(a)}function n(t){return t.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()})}Object.defineProperty(t,"__esModule",{value:!0}),t.getUploader=e,t.secondsToStr=i,t.kebabCase=n})},function(t,e){var i=t.exports={version:"2.5.3"};"number"==typeof __e&&(__e=i)},function(t,e,i){t.exports=!i(9)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){var i=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=i)},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,i){function n(t){i(81)}var r=i(1)(i(25),i(74),n,null,null);t.exports=r.exports},function(t,e,i){function n(t){i(79)}var r=i(1)(i(26),i(72),n,null,null);t.exports=r.exports},function(t,e,i){function n(t){i(80)}var r=i(1)(i(28),i(73),n,null,null);t.exports=r.exports},function(t,e,i){function n(t){i(76)}var r=i(1)(i(29),i(69),n,null,null);t.exports=r.exports},function(t,e,i){function n(t){i(75)}var r=i(1)(i(30),i(68),n,null,null);t.exports=r.exports},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e){var i=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?n:i)(t)}},function(t,e,i){var n=i(45),r=i(17);t.exports=function(t){return n(r(t))}},function(t,e,i){function n(t,e,i){r.defineNonEnumerable(this,"uploader",t),r.defineNonEnumerable(this,"file",e),r.defineNonEnumerable(this,"bytes",null),this.offset=i,this.tested=!1,this.retries=0,this.pendingRetry=!1,this.preprocessState=0,this.readState=0,this.loaded=0,this.total=0,this.chunkSize=this.uploader.opts.chunkSize,this.startByte=this.offset*this.chunkSize,this.endByte=this.computeEndByte(),this.xhr=null}var r=i(4),o=n.STATUS={PENDING:"pending",UPLOADING:"uploading",READING:"reading",SUCCESS:"success",ERROR:"error",COMPLETE:"complete",PROGRESS:"progress",RETRY:"retry"};r.extend(n.prototype,{_event:function(t,e){e=r.toArray(arguments),e.unshift(this),this.file._chunkEvent.apply(this.file,e)},computeEndByte:function(){var t=Math.min(this.file.size,(this.offset+1)*this.chunkSize);return this.file.size-t<this.chunkSize&&!this.uploader.opts.forceChunkSize&&(t=this.file.size),t},getParams:function(){return{chunkNumber:this.offset+1,chunkSize:this.uploader.opts.chunkSize,currentChunkSize:this.endByte-this.startByte,totalSize:this.file.size,identifier:this.file.uniqueIdentifier,filename:this.file.name,relativePath:this.file.relativePath,totalChunks:this.file.chunks.length}},getTarget:function(t,e){return t.indexOf("?")<0?t+="?":t+="&",t+e.join("&")},test:function(){function t(t){var e=n.status(!0);e===o.ERROR?(n._event(e,n.message()),n.uploader.uploadNextChunk()):e===o.SUCCESS?(n._event(e,n.message()),n.tested=!0):n.file.paused||(n.tested=!0,n.send())}this.xhr=new XMLHttpRequest,this.xhr.addEventListener("load",t,!1),this.xhr.addEventListener("error",t,!1);var e=r.evalOpts(this.uploader.opts.testMethod,this.file,this),i=this.prepareXhrRequest(e,!0);this.xhr.send(i);var n=this},preprocessFinished:function(){this.endByte=this.computeEndByte(),this.preprocessState=2,this.send()},readFinished:function(t){this.readState=2,this.bytes=t,this.send()},send:function(){function t(t){t.lengthComputable&&(l.loaded=t.loaded,l.total=t.total),l._event(o.PROGRESS,t)}function e(t){var e=l.status();if(e===o.SUCCESS||e===o.ERROR)delete this.data,l._event(e,l.message()),e===o.ERROR&&l.uploader.uploadNextChunk();else{l._event(o.RETRY,l.message()),l.pendingRetry=!0,l.abort(),l.retries++;var i=l.uploader.opts.chunkRetryInterval;null!==i?setTimeout(function(){l.send()},i):l.send()}}var i=this.uploader.opts.preprocess,n=this.uploader.opts.readFileFn;if(r.isFunction(i))switch(this.preprocessState){case 0:return this.preprocessState=1,void i(this);case 1:return}switch(this.readState){case 0:return this.readState=1,void n(this.file,this.file.fileType,this.startByte,this.endByte,this);case 1:return}if(this.uploader.opts.testChunks&&!this.tested)return void this.test();this.loaded=0,this.total=0,this.pendingRetry=!1,this.xhr=new XMLHttpRequest,this.xhr.upload.addEventListener("progress",t,!1),this.xhr.addEventListener("load",e,!1),this.xhr.addEventListener("error",e,!1);var a=r.evalOpts(this.uploader.opts.uploadMethod,this.file,this),s=this.prepareXhrRequest(a,!1,this.uploader.opts.method,this.bytes);this.xhr.send(s);var l=this},abort:function(){var t=this.xhr;this.xhr=null,t&&t.abort()},status:function(t){return 1===this.readState?o.READING:this.pendingRetry||1===this.preprocessState?o.UPLOADING:this.xhr?this.xhr.readyState<4?o.UPLOADING:this.uploader.opts.successStatuses.indexOf(this.xhr.status)>-1?o.SUCCESS:this.uploader.opts.permanentErrors.indexOf(this.xhr.status)>-1||!t&&this.retries>=this.uploader.opts.maxChunkRetries?o.ERROR:(this.abort(),o.PENDING):o.PENDING},message:function(){return this.xhr?this.xhr.responseText:""},progress:function(){if(this.pendingRetry)return 0;var t=this.status();return t===o.SUCCESS||t===o.ERROR?1:t===o.PENDING?0:this.total>0?this.loaded/this.total:0},sizeUploaded:function(){var t=this.endByte-this.startByte;return this.status()!==o.SUCCESS&&(t=this.progress()*t),t},prepareXhrRequest:function(t,e,i,n){var o=r.evalOpts(this.uploader.opts.query,this.file,this,e);o=r.extend(this.getParams(),o);var a=r.evalOpts(this.uploader.opts.target,this.file,this,e),s=null;if("GET"===t||"octet"===i){var l=[];r.each(o,function(t,e){l.push([encodeURIComponent(e),encodeURIComponent(t)].join("="))}),a=this.getTarget(a,l),s=n||null}else s=new FormData,r.each(o,function(t,e){s.append(e,t)}),s.append(this.uploader.opts.fileParameterName,n,this.file.name);return this.xhr.open(t,a,!0),this.xhr.withCredentials=this.uploader.opts.withCredentials,r.each(r.evalOpts(this.uploader.opts.headers,this.file,this,e),function(t,e){this.xhr.setRequestHeader(e,t)},this),s}}),t.exports=n},function(t,e,i){function n(t){this.support=p,this.support&&(this.supportDirectory=h,r.defineNonEnumerable(this,"filePaths",{}),this.opts=r.extend({},n.defaults,t||{}),a.call(this,this))}var r=i(4),o=i(66),a=i(67),s=i(20),l=window.navigator.msPointerEnabled,p=function(){var t="slice",e=r.isDefined(window.File)&&r.isDefined(window.Blob)&&r.isDefined(window.FileList),i=null;return e&&(i=window.Blob.prototype,r.each(["slice","webkitSlice","mozSlice"],function(e){if(i[e])return t=e,!1}),e=!!i[t]),e&&(n.sliceName=t),i=null,e}(),h=function(){var t=window.document.createElement("input");t.type="file";var e="webkitdirectory"in t||"directory"in t;return t=null,e}(),c=function(t,e,i,r,o){o.readFinished(t.file[n.sliceName](i,r,e))};n.version="__VERSION__",n.defaults={chunkSize:1048576,forceChunkSize:!1,simultaneousUploads:3,singleFile:!1,fileParameterName:"file",progressCallbacksInterval:500,speedSmoothingFactor:.1,query:{},headers:{},withCredentials:!1,preprocess:null,method:"multipart",testMethod:"GET",uploadMethod:"POST",prioritizeFirstAndLastChunk:!1,allowDuplicateUploads:!1,target:"/",testChunks:!0,generateUniqueIdentifier:null,maxChunkRetries:0,chunkRetryInterval:null,permanentErrors:[404,415,500,501],successStatuses:[200,201,202],onDropStopPropagation:!1,initFileFn:null,readFileFn:c,checkChunkUploadedByResponse:null},n.utils=r,n.event=o,n.File=a,n.Chunk=s,n.prototype=r.extend({},a.prototype),r.extend(n.prototype,o),r.extend(n.prototype,{constructor:n,_trigger:function(t){var e=r.toArray(arguments),i=!this.trigger.apply(this,arguments);return"catchAll"!==t&&(e.unshift("catchAll"),i=!this.trigger.apply(this,e)||i),!i},_triggerAsync:function(){var t=arguments;r.nextTick(function(){this._trigger.apply(this,t)},this)},addFiles:function(t,e){var i=[],n=this.fileList.length;r.each(t,function(t){if((!l||l&&t.size>0)&&(t.size%4096!=0||"."!==t.name&&"."!==t.fileName)){var n=this.generateUniqueIdentifier(t);if(this.opts.allowDuplicateUploads||!this.getFromUniqueIdentifier(n)){var r=new a(this,t,this);r.uniqueIdentifier=n,this._trigger("fileAdded",r,e)?i.push(r):a.prototype.removeFile.call(this,r)}}},this);var o=this.fileList.slice(n);this._trigger("filesAdded",i,o,e)?(r.each(i,function(t){this.opts.singleFile&&this.files.length>0&&this.removeFile(this.files[0]),this.files.push(t)},this),this._trigger("filesSubmitted",i,o,e)):r.each(o,function(t){a.prototype.removeFile.call(this,t)},this)},addFile:function(t,e){this.addFiles([t],e)},cancel:function(){for(var t=this.fileList.length-1;t>=0;t--)this.fileList[t].cancel()},removeFile:function(t){a.prototype.removeFile.call(this,t),this._trigger("fileRemoved",t)},generateUniqueIdentifier:function(t){var e=this.opts.generateUniqueIdentifier;if(r.isFunction(e))return e(t);var i=t.relativePath||t.webkitRelativePath||t.fileName||t.name;return t.size+"-"+i.replace(/[^0-9a-zA-Z_-]/gim,"")},getFromUniqueIdentifier:function(t){var e=!1;return r.each(this.files,function(i){if(i.uniqueIdentifier===t)return e=i,!1}),e},uploadNextChunk:function(t){var e=!1,i=s.STATUS.PENDING,n=this.uploader.opts.checkChunkUploadedByResponse;if(this.opts.prioritizeFirstAndLastChunk&&(r.each(this.files,function(t){if(!t.paused&&(!n||t._firstResponse||!t.isUploading()))return t.chunks.length&&t.chunks[0].status()===i?(t.chunks[0].send(),e=!0,!1):t.chunks.length>1&&t.chunks[t.chunks.length-1].status()===i?(t.chunks[t.chunks.length-1].send(),e=!0,!1):void 0}),e))return e;if(r.each(this.files,function(t){if(!t.paused){if(n&&!t._firstResponse&&t.isUploading())return;r.each(t.chunks,function(t){if(t.status()===i)return t.send(),e=!0,!1})}if(e)return!1}),e)return!0;var o=!1;return r.each(this.files,function(t){if(!t.isComplete())return o=!0,!1}),o||t||this._triggerAsync("complete"),o},upload:function(t){var e=this._shouldUploadNext();if(!1!==e){!t&&this._trigger("uploadStart");for(var i=!1,n=1;n<=this.opts.simultaneousUploads-e&&((i=this.uploadNextChunk(!t)||i)||!t);n++);i||t||this._triggerAsync("complete")}},_shouldUploadNext:function(){var t=0,e=!0,i=this.opts.simultaneousUploads,n=s.STATUS.UPLOADING;return r.each(this.files,function(o){return r.each(o.chunks,function(r){if(r.status()===n&&++t>=i)return e=!1,!1}),e}),e&&t},assignBrowse:function(t,e,i,n){void 0===t.length&&(t=[t]),r.each(t,function(t){var o;"INPUT"===t.tagName&&"file"===t.type?o=t:(o=document.createElement("input"),o.setAttribute("type","file"),r.extend(o.style,{visibility:"hidden",position:"absolute",width:"1px",height:"1px"}),t.appendChild(o),t.addEventListener("click",function(){o.click()},!1)),this.opts.singleFile||i||o.setAttribute("multiple","multiple"),e&&o.setAttribute("webkitdirectory","webkitdirectory"),n&&r.each(n,function(t,e){o.setAttribute(e,t)});var a=this;o.addEventListener("change",function(t){t.target.value&&(a.addFiles(t.target.files,t),t.target.value="")},!1)},this)},onDrop:function(t){this.opts.onDropStopPropagation&&t.stopPropagation(),t.preventDefault(),this._parseDataTransfer(t.dataTransfer,t)},_parseDataTransfer:function(t,e){t.items&&t.items[0]&&t.items[0].webkitGetAsEntry?this.webkitReadDataTransfer(t,e):this.addFiles(t.files,e)},webkitReadDataTransfer:function(t,e){function i(t){t.readEntries(function(e){e.length?(l+=e.length,r.each(e,function(t){if(t.isFile){var e=t.fullPath;t.file(function(t){n(t,e)},o)}else t.isDirectory&&i(t.createReader())}),i(t)):a()},o)}function n(t,e){t.relativePath=e.substring(1),p.push(t),a()}function o(t){throw t}function a(){0==--l&&s.addFiles(p,e)}var s=this,l=t.items.length,p=[];r.each(t.items,function(t){var e=t.webkitGetAsEntry();if(!e)return void a();e.isFile?n(t.getAsFile(),e.fullPath):i(e.createReader())})},_assignHelper:function(t,e,i){void 0===t.length&&(t=[t]);var n=i?"removeEventListener":"addEventListener";r.each(t,function(t){r.each(e,function(e,i){t[n](i,e,!1)},this)},this)},assignDrop:function(t){this._onDrop=r.bind(this.onDrop,this),this._assignHelper(t,{dragover:r.preventEvent,dragenter:r.preventEvent,drop:this._onDrop})},unAssignDrop:function(t){this._assignHelper(t,{dragover:r.preventEvent,dragenter:r.preventEvent,drop:this._onDrop},!0),this._onDrop=null}}),t.exports=n},function(t,e,i){function n(t){i(78)}var r=i(1)(i(31),i(71),n,null,null);t.exports=r.exports},function(t,e,i){var n,r,o;!function(i,a){r=[t,e],n=a,void 0!==(o="function"==typeof n?n.apply(e,r):n)&&(t.exports=o)}(0,function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=["fileProgress","fileSuccess","fileComplete","fileError"];e.default=i,t.exports=e.default})},function(t,e,i){var n,r,o;!function(a,s){r=[t,e,i(22),i(12),i(13),i(16),i(15),i(14),i(3)],n=s,void 0!==(o="function"==typeof n?n.apply(e,r):n)&&(t.exports=o)}(0,function(t,e,i,n,r,o,a,s,l){"use strict";function p(t){return t&&t.__esModule?t:{default:t}}function h(t){h.installed||(t.component(c.default.name,c.default),t.component(u.default.name,u.default),t.component(d.default.name,d.default),t.component(f.default.name,f.default),t.component(g.default.name,g.default),t.component(v.default.name,v.default),t.component(m.default.name,m.default))}Object.defineProperty(e,"__esModule",{value:!0});var c=p(i),u=p(n),d=p(r),f=p(o),g=p(a),v=p(s),m=p(l),A={version:"0.4.6",install:h,Uploader:c.default,UploaderBtn:u.default,UploaderDrop:d.default,UploaderUnsupport:f.default,UploaderList:g.default,UploaderFiles:v.default,UploaderFile:m.default};"undefined"!=typeof window&&window.Vue&&window.Vue.use(h),e.default=A,t.exports=e.default})},function(t,e,i){var n,r,o;!function(a,s){r=[t,e,i(5)],n=s,void 0!==(o="function"==typeof n?n.apply(e,r):n)&&(t.exports=o)}(0,function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"uploader-btn",mixins:[i.uploaderMixin,i.supportMixin],props:{directory:{type:Boolean,default:!1},single:{type:Boolean,default:!1},attrs:{type:Object,default:function(){return{}}}},mounted:function(){var t=this;this.$nextTick(function(){t.uploader.assignBrowse(t.$refs.btn,t.directory,t.single,t.attrs)})}},t.exports=e.default})},function(t,e,i){var n,r,o;!function(a,s){r=[t,e,i(5)],n=s,void 0!==(o="function"==typeof n?n.apply(e,r):n)&&(t.exports=o)}(0,function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"uploader-drop",mixins:[i.uploaderMixin,i.supportMixin],data:function(){return{dropClass:""}},methods:{onDragEnter:function(){this.dropClass="uploader-dragover"},onDragLeave:function(){this.dropClass=""},onDrop:function(){this.dropClass="uploader-droped"}},mounted:function(){var t=this;this.$nextTick(function(){var e=t.$refs.drop;t.uploader.assignDrop(e),e.addEventListener("dragenter",t.onDragEnter,!1),e.addEventListener("dragleave",t.onDragLeave,!1),e.addEventListener("drop",t.onDrop,!1)})},beforeDestroy:function(){var t=this.$refs.drop;t.removeEventListener("dragenter",this.onDragEnter,!1),t.removeEventListener("dragleave",this.onDragLeave,!1),t.removeEventListener("drop",this.onDrop,!1),this.uploader.unAssignDrop(t)}},t.exports=e.default})},function(t,e,i){var n,r,o;!function(a,s){r=[t,e,i(32),i(21),i(23),i(6)],n=s,void 0!==(o="function"==typeof n?n.apply(e,r):n)&&(t.exports=o)}(0,function(t,e,i,n,r,o){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=a(i),l=a(n),p=a(r);e.default={name:"uploader-file",props:{file:{type:Object,default:function(){return{}}},list:{type:Boolean,default:!1}},data:function(){return{paused:!1,error:!1,averageSpeed:0,currentSpeed:0,isComplete:!1,isUploading:!1,size:0,formatedSize:"",uploadedSize:0,progress:0,timeRemaining:0,type:"",extension:"",progressingClass:""}},computed:{fileCategory:function(){var t=this.extension,e=this.file.isFolder,i=e?"folder":"unknown",n=this.file.uploader.opts.categoryMap,r=n||{image:["gif","jpg","jpeg","png","bmp","webp"],video:["mp4","m3u8","rmvb","avi","swf","3gp","mkv","flv"],audio:["mp3","wav","wma","ogg","aac","flac"],document:["doc","txt","docx","pages","epub","pdf","numbers","csv","xls","xlsx","keynote","ppt","pptx"]};return(0,s.default)(r).forEach(function(e){r[e].indexOf(t)>-1&&(i=e)}),i},progressStyle:function(){var t=Math.floor(100*this.progress),e="translateX("+Math.floor(t-100)+"%)";return{progress:t+"%",webkitTransform:e,mozTransform:e,msTransform:e,transform:e}},formatedAverageSpeed:function(){return l.default.utils.formatSize(this.averageSpeed)+" / s"},status:function(){var t=this.isUploading,e=this.isComplete,i=this.error,n=this.paused;return e?"success":i?"error":t?"uploading":n?"paused":"waiting"},statusText:function(){var t=this.status;return this.file.uploader.fileStatusText[t]||t},formatedTimeRemaining:function(){var t=this.timeRemaining,e=this.file;if(t===Number.POSITIVE_INFINITY||0===t)return"";var i=(0,o.secondsToStr)(t),n=e.uploader.opts.parseTimeRemaining;return n&&(i=n(t,i)),i}},watch:{status:function(t,e){var i=this;e&&"uploading"===t&&"uploading"!==e?this.tid=setTimeout(function(){i.progressingClass="uploader-file-progressing"},200):(clearTimeout(this.tid),this.progressingClass="")}},methods:{_actionCheck:function(){this.paused=this.file.paused,this.error=this.file.error,this.isUploading=this.file.isUploading()},pause:function(){this.file.pause(),this._actionCheck(),this._fileProgress()},resume:function(){this.file.resume(),this._actionCheck()},remove:function(){this.file.cancel()},retry:function(){this.file.retry(),this._actionCheck()},fileEventsHandler:function(t,e){var i=e[0],n=e[1],r=this.list?i:n;if(this.file===r){if(this.list&&"fileSuccess"===t)return;this["_"+t].apply(this,e)}},_fileProgress:function(){this.progress=this.file.progress(),this.averageSpeed=this.file.averageSpeed,this.currentSpeed=this.file.currentSpeed,this.timeRemaining=this.file.timeRemaining(),this.uploadedSize=this.file.sizeUploaded(),this._actionCheck()},_fileSuccess:function(){this._fileProgress(),this.error=!1,this.isComplete=!0,this.isUploading=!1},_fileComplete:function(){this._fileSuccess()},_fileError:function(){this._fileProgress(),this.error=!0,this.isComplete=!1,this.isUploading=!1}},mounted:function(){var t=this,e=["paused","error","averageSpeed","currentSpeed"],i=["isComplete","isUploading",{key:"size",fn:"getSize"},{key:"formatedSize",fn:"getFormatSize"},{key:"uploadedSize",fn:"sizeUploaded"},"progress","timeRemaining",{key:"type",fn:"getType"},{key:"extension",fn:"getExtension"}];e.forEach(function(e){t[e]=t.file[e]}),i.forEach(function(e){"string"==typeof e?t[e]=t.file[e]():t[e.key]=t.file[e.fn]()});var n=this._handlers={},r=function(e){return n[e]=function(){for(var i=arguments.length,n=Array(i),r=0;r<i;r++)n[r]=arguments[r];t.fileEventsHandler(e,n)},n[e]};p.default.forEach(function(e){t.file.uploader.on(e,r(e))})},destroyed:function(){var t=this;p.default.forEach(function(e){t.file.uploader.off(e,t._handlers[e])}),this._handlers=null}},t.exports=e.default})},function(t,e,i){var n,r,o;!function(a,s){r=[t,e,i(3)],n=s,void 0!==(o="function"==typeof n?n.apply(e,r):n)&&(t.exports=o)}(0,function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){return t&&t.__esModule?t:{default:t}}(i);e.default={name:"uploader-files",computed:{files:function(){return this.$parent.files}},components:{UploaderFile:n.default}},t.exports=e.default})},function(t,e,i){var n,r,o;!function(a,s){r=[t,e,i(3)],n=s,void 0!==(o="function"==typeof n?n.apply(e,r):n)&&(t.exports=o)}(0,function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){return t&&t.__esModule?t:{default:t}}(i);e.default={name:"uploader-list",computed:{fileList:function(){return this.$parent.fileList}},components:{UploaderFile:n.default}},t.exports=e.default})},function(t,e,i){var n,r,o;!function(a,s){r=[t,e,i(5)],n=s,void 0!==(o="function"==typeof n?n.apply(e,r):n)&&(t.exports=o)}(0,function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"uploader-unsupport",mixins:[i.uploaderMixin,i.supportMixin]},t.exports=e.default})},function(t,e,i){var n,r,o;!function(a,s){r=[t,e,i(21),i(6),i(12),i(13),i(16),i(15),i(14),i(3)],n=s,void 0!==(o="function"==typeof n?n.apply(e,r):n)&&(t.exports=o)}(0,function(t,e,i,n,r,o,a,s,l,p){"use strict";function h(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var c=h(i),u=h(r),d=h(o),f=h(a),g=h(s),v=h(l),m=h(p);e.default={name:"uploader",props:{options:{type:Object,default:function(){return{}}},autoStart:{type:Boolean,default:!0},fileStatusText:{type:Object,default:function(){return{success:"success",error:"error",uploading:"uploading",paused:"paused",waiting:"waiting"}}}},data:function(){return{started:!1,files:[],fileList:[]}},methods:{uploadStart:function(){this.started=!0},fileAdded:function(t){if(this.$emit((0,n.kebabCase)("fileAdded"),t),t.ignored)return!1},filesAdded:function(t,e){if(this.$emit((0,n.kebabCase)("filesAdded"),t,e),t.ignored||e.ignored)return!1},fileRemoved:function(t){this.files=this.uploader.files,this.fileList=this.uploader.fileList},filesSubmitted:function(t,e){this.files=this.uploader.files,this.fileList=this.uploader.fileList,this.autoStart&&this.uploader.upload()},allEvent:function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];var r=e[0];"fileAdded"!==r&&"filesAdded"!==r&&(e[0]=(0,n.kebabCase)(r),this.$emit.apply(this,e))}},created:function(){var t=new c.default(this.options);this.uploader=t,this.uploader.fileStatusText=this.fileStatusText,t.on("catchAll",this.allEvent),t.on("uploadStart",this.uploadStart),t.on("fileAdded",this.fileAdded),t.on("filesAdded",this.filesAdded),t.on("fileRemoved",this.fileRemoved),t.on("filesSubmitted",this.filesSubmitted)},destroyed:function(){var t=this.uploader;t.off("catchAll",this.allEvent),t.off("uploadStart",this.uploadStart),t.off("fileAdded",this.fileAdded),t.off("filesAdded",this.filesAdded),t.off("fileRemoved",this.fileRemoved),t.off("filesSubmitted",this.filesSubmitted),this.uploader=null},components:{UploaderBtn:u.default,UploaderDrop:d.default,UploaderUnsupport:f.default,UploaderList:g.default,UploaderFiles:v.default,UploaderFile:m.default}},t.exports=e.default})},function(t,e,i){t.exports={default:i(33),__esModule:!0}},function(t,e,i){i(58),t.exports=i(7).Object.keys},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,i){var n=i(11);t.exports=function(t){if(!n(t))throw TypeError(t+" is not an object!");return t}},function(t,e,i){var n=i(19),r=i(54),o=i(53);t.exports=function(t){return function(e,i,a){var s,l=n(e),p=r(l.length),h=o(a,p);if(t&&i!=i){for(;p>h;)if((s=l[h++])!=s)return!0}else for(;p>h;h++)if((t||h in l)&&l[h]===i)return t||h||0;return!t&&-1}}},function(t,e){var i={}.toString;t.exports=function(t){return i.call(t).slice(8,-1)}},function(t,e,i){var n=i(34);t.exports=function(t,e,i){if(n(t),void 0===e)return t;switch(i){case 1:return function(i){return t.call(e,i)};case 2:return function(i,n){return t.call(e,i,n)};case 3:return function(i,n,r){return t.call(e,i,n,r)}}return function(){return t.apply(e,arguments)}}},function(t,e,i){var n=i(11),r=i(10).document,o=n(r)&&n(r.createElement);t.exports=function(t){return o?r.createElement(t):{}}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,i){var n=i(10),r=i(7),o=i(38),a=i(43),s=function(t,e,i){var l,p,h,c=t&s.F,u=t&s.G,d=t&s.S,f=t&s.P,g=t&s.B,v=t&s.W,m=u?r:r[e]||(r[e]={}),A=m.prototype,b=u?n:d?n[e]:(n[e]||{}).prototype;u&&(i=e);for(l in i)(p=!c&&b&&void 0!==b[l])&&l in m||(h=p?b[l]:i[l],m[l]=u&&"function"!=typeof b[l]?i[l]:g&&p?o(h,n):v&&b[l]==h?function(t){var e=function(e,i,n){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,i)}return new t(e,i,n)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(h):f&&"function"==typeof h?o(Function.call,h):h,f&&((m.virtual||(m.virtual={}))[l]=h,t&s.R&&A&&!A[l]&&a(A,l,h)))};s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,t.exports=s},function(t,e){var i={}.hasOwnProperty;t.exports=function(t,e){return i.call(t,e)}},function(t,e,i){var n=i(46),r=i(50);t.exports=i(8)?function(t,e,i){return n.f(t,e,r(1,i))}:function(t,e,i){return t[e]=i,t}},function(t,e,i){t.exports=!i(8)&&!i(9)(function(){return 7!=Object.defineProperty(i(39)("div"),"a",{get:function(){return 7}}).a})},function(t,e,i){var n=i(37);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==n(t)?t.split(""):Object(t)}},function(t,e,i){var n=i(35),r=i(44),o=i(56),a=Object.defineProperty;e.f=i(8)?Object.defineProperty:function(t,e,i){if(n(t),e=o(e,!0),n(i),r)try{return a(t,e,i)}catch(t){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(t[e]=i.value),t}},function(t,e,i){var n=i(42),r=i(19),o=i(36)(!1),a=i(51)("IE_PROTO");t.exports=function(t,e){var i,s=r(t),l=0,p=[];for(i in s)i!=a&&n(s,i)&&p.push(i);for(;e.length>l;)n(s,i=e[l++])&&(~o(p,i)||p.push(i));return p}},function(t,e,i){var n=i(47),r=i(40);t.exports=Object.keys||function(t){return n(t,r)}},function(t,e,i){var n=i(41),r=i(7),o=i(9);t.exports=function(t,e){var i=(r.Object||{})[t]||Object[t],a={};a[t]=e(i),n(n.S+n.F*o(function(){i(1)}),"Object",a)}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,i){var n=i(52)("keys"),r=i(57);t.exports=function(t){return n[t]||(n[t]=r(t))}},function(t,e,i){var n=i(10),r=n["__core-js_shared__"]||(n["__core-js_shared__"]={});t.exports=function(t){return r[t]||(r[t]={})}},function(t,e,i){var n=i(18),r=Math.max,o=Math.min;t.exports=function(t,e){return t=n(t),t<0?r(t+e,0):o(t,e)}},function(t,e,i){var n=i(18),r=Math.min;t.exports=function(t){return t>0?r(n(t),9007199254740991):0}},function(t,e,i){var n=i(17);t.exports=function(t){return Object(n(t))}},function(t,e,i){var n=i(11);t.exports=function(t,e){if(!n(t))return t;var i,r;if(e&&"function"==typeof(i=t.toString)&&!n(r=i.call(t)))return r;if("function"==typeof(i=t.valueOf)&&!n(r=i.call(t)))return r;if(!e&&"function"==typeof(i=t.toString)&&!n(r=i.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},function(t,e){var i=0,n=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++i+n).toString(36))}},function(t,e,i){var n=i(55),r=i(48);i(49)("keys",function(){return function(t){return r(n(t))}})},function(t,e,i){e=t.exports=i(0)(!0),e.push([t.i,".uploader-unsupport{position:relative;z-index:10;overflow:hidden}","",{version:3,sources:["/Users/didi/Documents/git/private/vue-uploader/src/components/unsupport.vue"],names:[],mappings:"AACA,oBACE,kBAAmB,AACnB,WAAY,AACZ,eAAiB,CAClB",file:"unsupport.vue",sourcesContent:["\n.uploader-unsupport {\n  position: relative;\n  z-index: 10;\n  overflow: hidden;\n}\n"],sourceRoot:""}])},function(t,e,i){e=t.exports=i(0)(!0),e.push([t.i,".uploader-list{position:relative}.uploader-list>ul{list-style:none;margin:0;padding:0}","",{version:3,sources:["/Users/didi/Documents/git/private/vue-uploader/src/components/list.vue"],names:[],mappings:"AACA,eACE,iBAAmB,CACpB,AACD,kBACE,gBAAiB,AACjB,SAAU,AACV,SAAU,CACX",file:"list.vue",sourcesContent:["\n.uploader-list {\n  position: relative;\n}\n.uploader-list > ul {\n  list-style: none;\n  margin: 0;\n  padding: 0\n}\n"],sourceRoot:""}])},function(t,e,i){e=t.exports=i(0)(!0),e.push([t.i,'.uploader-file{position:relative;height:49px;line-height:49px;overflow:hidden;border-bottom:1px solid #cdcdcd}.uploader-file[status=error] .uploader-file-retry,.uploader-file[status=paused] .uploader-file-resume,.uploader-file[status=uploading] .uploader-file-pause,.uploader-file[status=waiting] .uploader-file-pause{display:block}.uploader-file[status=success] .uploader-file-remove{display:none}.uploader-file[status=error] .uploader-file-progress{background:#ffe0e0}.uploader-file-progress{position:absolute;width:100%;height:100%;background:#e2eeff;-webkit-transform:translateX(-100%);transform:translateX(-100%)}.uploader-file-progressing{-webkit-transition:all .4s linear;transition:all .4s linear}.uploader-file-info{position:relative;z-index:1;height:100%;overflow:hidden}.uploader-file-info:hover{background-color:hsla(0,0%,94%,.2)}.uploader-file-info em,.uploader-file-info i{font-style:normal}.uploader-file-actions,.uploader-file-meta,.uploader-file-name,.uploader-file-size,.uploader-file-status{float:left;position:relative;height:100%}.uploader-file-name{width:45%;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;text-indent:14px}.uploader-file-icon{width:24px;height:24px;display:inline-block;vertical-align:top;margin-top:13px;margin-right:8px}.uploader-file-icon:before{content:"\\1F4C3";display:block;height:100%;font-size:24px;line-height:1;text-indent:0}.uploader-file-icon[icon=folder]:before{content:"\\1F4C2"}.uploader-file-icon[icon=image]:before{content:"\\1F4CA"}.uploader-file-icon[icon=video]:before{content:"\\1F4F9"}.uploader-file-icon[icon=audio]:before{content:"\\1F3B5"}.uploader-file-icon[icon=document]:before{content:"\\1F4CB"}.uploader-file-size{width:13%;text-indent:10px}.uploader-file-meta{width:8%}.uploader-file-status{width:24%;text-indent:20px}.uploader-file-actions{width:10%}.uploader-file-actions>span{display:none;float:left;width:16px;height:16px;margin-top:16px;margin-right:10px;cursor:pointer;background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAABkCAYAAAD0ZHJ6AAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAJcEhZcwAACxMAAAsTAQCanBgAAARkSURBVGje7ZnfS1NRHMAH4ptPkvQSuAdBkCxD8FUQJMEULUgzy1KyyPVQ4JMiiP4Bvg6EwUQQfMmwhwRDshwaKUjDVCgoSdDNHkzTJZ6+Z37Purve8+PeTb2TM/ggu+ew89l33x8H9BBCPG7GowXTJej3+wnDvEm0JuLC04+EYWftVAUv+fiCvDUdQR1BHUEdQR3BTIygvixoQS14XgTtthLVdpNWwXRLqvQ724LplFRtyrYF0yVpFLQrKRVMh6RZ0I6kkmCqklaCqpKZH0FX56Crq9jVfdDVk0RfFrSgFsxkQVmLcdKCVrKySCrryhPEyYShhzOcrFtG0EoilfHHk1CRU5rF6ZjNZhlVOW6RnMSVyyilKies4pO41diVy8wIujoHXV3FGdMHXTtJKLFYTLhZtq4vC1rwXApCZTIqgR6g1PBMCO9DL3bMMSqBHqDU8EyISDAHiGKvWwcCQG2KgjlAFCDAOhAAap0K5gKLphk8mqJgLrCIgoxRJ4J5wKpJ7gAoMkn5EBXBPGDVJHcAFJmkfIhQcAql1oBpTvTol9gG9pm4RHAKpdaAaU706JfYBvaZuJVgPQrt4sFlnOh5MC/p3lmJYD0K7eLBZZzoeTAv6d5ZnuAYHjpgEOnk5F0ufhG6v1ggOIaHDhhEOjl5l4tfhO4vthLcwAMrFNvLJO5vEwhu4IEViu1lEve3WQmyoihQFBzG/V0CQVYUBYqCw7i/SxTBcpsRbFeIYLnNCLZbCY5b5KAnxRwct8hBj9McZFVMW0ihRNBuFdMWUigRlFaxuQ9WWYjRMTiIe5z0wSoLMToGB3GPsA9aTZIJoB+nRgBnM1tzOkkmgH6cGgGczWzNpzqLx3n/aULJJgezeNw07oxQySbVywKjBOgFRnDs+VEsx8FlgVEC9AIjOPb8KJYjvSzoG7UW1IJaUAtqQS14toLNM5fN5APdwBJA8G83Pk/aK/rgzVvXzeQD3cASQPBvNz5P2ssTzAaGUIrHEO6zI5gNDKEUjyHcxxWkh4Ylcowwk1QQpIeGJXKMMJO0EgwqyjGCioJBJvDrxRMSuVOTJEXfbz1/bHwWtBL0yoQehK6RucgE+bGzanzulQh6E3IgQV+xpc8kcrfuSO7eTfJ3ZYmQw0Oy9azVKOk1C/bJ5D5F38YPeLfx0rjWJxHsS0SqsSYuxySjj5qO5Oj7xQWy2VBtFOwzCy6ryH3YfE3uh64Y1xckgstJPydEjkkeHv07Iy4Xaao15+KCWTBx6M/db+T9xivSErqaJDdzXI6yLRE8Vgg0coex/SPJvT0SbWu0KpZtbgSpCH3NRt7I5OxHkObc6heU+/M/J5vrpBFM5GBLqCQux14COXs5CNXK5OjPGm1tSMrJSOMNYQ4mVTGV/L6zTL7+DovkbFUxbSW0Wo05l8hJWsU+cRWfSh+Mt5Lb1ck/J1TvVsdDaR/MiEni+llsdZuZp62EViu+96bpNjNPWwmtVnzvFd5m9IVVC54x/wA7gNvqFG9vXQAAAABJRU5ErkJggg==") no-repeat 0 0}.uploader-file-actions>span:hover{background-position-x:-21px}.uploader-file-actions .uploader-file-pause{background-position-y:0}.uploader-file-actions .uploader-file-resume{background-position-y:-17px}.uploader-file-actions .uploader-file-retry{background-position-y:-53px}.uploader-file-actions .uploader-file-remove{display:block;background-position-y:-34px}',"",{version:3,sources:["/Users/didi/Documents/git/private/vue-uploader/src/components/file.vue"],names:[],mappings:"AACA,eACE,kBAAmB,AACnB,YAAa,AACb,iBAAkB,AAClB,gBAAiB,AACjB,+BAAiC,CAClC,AAQD,gNACE,aAAe,CAChB,AACD,qDACE,YAAc,CACf,AACD,qDACE,kBAAoB,CACrB,AACD,wBACE,kBAAmB,AACnB,WAAY,AACZ,YAAa,AACb,mBAAoB,AACpB,oCAAqC,AAC7B,2BAA6B,CACtC,AACD,2BACE,kCAAmC,AACnC,yBAA2B,CAC5B,AACD,oBACE,kBAAmB,AACnB,UAAW,AACX,YAAa,AACb,eAAiB,CAClB,AACD,0BACE,kCAA2C,CAC5C,AACD,6CAEE,iBAAmB,CACpB,AACD,yGAKE,WAAY,AACZ,kBAAmB,AACnB,WAAa,CACd,AACD,oBACE,UAAW,AACX,gBAAiB,AACjB,mBAAoB,AACpB,uBAAwB,AACxB,gBAAkB,CACnB,AACD,oBACE,WAAY,AACZ,YAAa,AACb,qBAAsB,AACtB,mBAAoB,AACpB,gBAAiB,AACjB,gBAAkB,CACnB,AACD,2BACE,iBAAc,AACd,cAAe,AACf,YAAa,AACb,eAAgB,AAChB,cAAe,AACf,aAAe,CAChB,AACD,wCACE,gBAAc,CACf,AACD,uCACE,gBAAc,CACf,AACD,uCACE,gBAAc,CACf,AACD,uCACE,gBAAc,CACf,AACD,0CACE,gBAAc,CACf,AACD,oBACE,UAAW,AACX,gBAAkB,CACnB,AACD,oBACE,QAAU,CACX,AACD,sBACE,UAAW,AACX,gBAAkB,CACnB,AACD,uBACE,SAAW,CACZ,AACD,4BACE,aAAc,AACd,WAAY,AACZ,WAAY,AACZ,YAAa,AACb,gBAAiB,AACjB,kBAAmB,AACnB,eAAgB,AAChB,srDAAwrD,CACzrD,AACD,kCACE,2BAA6B,CAC9B,AACD,4CACE,uBAAyB,CAC1B,AACD,6CACE,2BAA6B,CAC9B,AACD,4CACE,2BAA6B,CAC9B,AACD,6CACE,cAAe,AACf,2BAA6B,CAC9B",file:"file.vue",sourcesContent:['\n.uploader-file {\n  position: relative;\n  height: 49px;\n  line-height: 49px;\n  overflow: hidden;\n  border-bottom: 1px solid #cdcdcd;\n}\n.uploader-file[status="waiting"] .uploader-file-pause,\n.uploader-file[status="uploading"] .uploader-file-pause {\n  display: block;\n}\n.uploader-file[status="paused"] .uploader-file-resume {\n  display: block;\n}\n.uploader-file[status="error"] .uploader-file-retry {\n  display: block;\n}\n.uploader-file[status="success"] .uploader-file-remove {\n  display: none;\n}\n.uploader-file[status="error"] .uploader-file-progress {\n  background: #ffe0e0;\n}\n.uploader-file-progress {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  background: #e2eeff;\n  -webkit-transform: translateX(-100%);\n          transform: translateX(-100%);\n}\n.uploader-file-progressing {\n  -webkit-transition: all .4s linear;\n  transition: all .4s linear;\n}\n.uploader-file-info {\n  position: relative;\n  z-index: 1;\n  height: 100%;\n  overflow: hidden;\n}\n.uploader-file-info:hover {\n  background-color: rgba(240, 240, 240, 0.2);\n}\n.uploader-file-info i,\n.uploader-file-info em {\n  font-style: normal;\n}\n.uploader-file-name,\n.uploader-file-size,\n.uploader-file-meta,\n.uploader-file-status,\n.uploader-file-actions {\n  float: left;\n  position: relative;\n  height: 100%;\n}\n.uploader-file-name {\n  width: 45%;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  text-indent: 14px;\n}\n.uploader-file-icon {\n  width: 24px;\n  height: 24px;\n  display: inline-block;\n  vertical-align: top;\n  margin-top: 13px;\n  margin-right: 8px;\n}\n.uploader-file-icon::before {\n  content: "📃";\n  display: block;\n  height: 100%;\n  font-size: 24px;\n  line-height: 1;\n  text-indent: 0;\n}\n.uploader-file-icon[icon="folder"]::before {\n  content: "📂";\n}\n.uploader-file-icon[icon="image"]::before {\n  content: "📊";\n}\n.uploader-file-icon[icon="video"]::before {\n  content: "📹";\n}\n.uploader-file-icon[icon="audio"]::before {\n  content: "🎵";\n}\n.uploader-file-icon[icon="document"]::before {\n  content: "📋";\n}\n.uploader-file-size {\n  width: 13%;\n  text-indent: 10px;\n}\n.uploader-file-meta {\n  width: 8%;\n}\n.uploader-file-status {\n  width: 24%;\n  text-indent: 20px;\n}\n.uploader-file-actions {\n  width: 10%;\n}\n.uploader-file-actions > span {\n  display: none;\n  float: left;\n  width: 16px;\n  height: 16px;\n  margin-top: 16px;\n  margin-right: 10px;\n  cursor: pointer;\n  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAABkCAYAAAD0ZHJ6AAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAJcEhZcwAACxMAAAsTAQCanBgAAARkSURBVGje7ZnfS1NRHMAH4ptPkvQSuAdBkCxD8FUQJMEULUgzy1KyyPVQ4JMiiP4Bvg6EwUQQfMmwhwRDshwaKUjDVCgoSdDNHkzTJZ6+Z37Purve8+PeTb2TM/ggu+ew89l33x8H9BBCPG7GowXTJej3+wnDvEm0JuLC04+EYWftVAUv+fiCvDUdQR1BHUEdQR3BTIygvixoQS14XgTtthLVdpNWwXRLqvQ724LplFRtyrYF0yVpFLQrKRVMh6RZ0I6kkmCqklaCqpKZH0FX56Crq9jVfdDVk0RfFrSgFsxkQVmLcdKCVrKySCrryhPEyYShhzOcrFtG0EoilfHHk1CRU5rF6ZjNZhlVOW6RnMSVyyilKies4pO41diVy8wIujoHXV3FGdMHXTtJKLFYTLhZtq4vC1rwXApCZTIqgR6g1PBMCO9DL3bMMSqBHqDU8EyISDAHiGKvWwcCQG2KgjlAFCDAOhAAap0K5gKLphk8mqJgLrCIgoxRJ4J5wKpJ7gAoMkn5EBXBPGDVJHcAFJmkfIhQcAql1oBpTvTol9gG9pm4RHAKpdaAaU706JfYBvaZuJVgPQrt4sFlnOh5MC/p3lmJYD0K7eLBZZzoeTAv6d5ZnuAYHjpgEOnk5F0ufhG6v1ggOIaHDhhEOjl5l4tfhO4vthLcwAMrFNvLJO5vEwhu4IEViu1lEve3WQmyoihQFBzG/V0CQVYUBYqCw7i/SxTBcpsRbFeIYLnNCLZbCY5b5KAnxRwct8hBj9McZFVMW0ihRNBuFdMWUigRlFaxuQ9WWYjRMTiIe5z0wSoLMToGB3GPsA9aTZIJoB+nRgBnM1tzOkkmgH6cGgGczWzNpzqLx3n/aULJJgezeNw07oxQySbVywKjBOgFRnDs+VEsx8FlgVEC9AIjOPb8KJYjvSzoG7UW1IJaUAtqQS14toLNM5fN5APdwBJA8G83Pk/aK/rgzVvXzeQD3cASQPBvNz5P2ssTzAaGUIrHEO6zI5gNDKEUjyHcxxWkh4Ylcowwk1QQpIeGJXKMMJO0EgwqyjGCioJBJvDrxRMSuVOTJEXfbz1/bHwWtBL0yoQehK6RucgE+bGzanzulQh6E3IgQV+xpc8kcrfuSO7eTfJ3ZYmQw0Oy9azVKOk1C/bJ5D5F38YPeLfx0rjWJxHsS0SqsSYuxySjj5qO5Oj7xQWy2VBtFOwzCy6ryH3YfE3uh64Y1xckgstJPydEjkkeHv07Iy4Xaao15+KCWTBx6M/db+T9xivSErqaJDdzXI6yLRE8Vgg0coex/SPJvT0SbWu0KpZtbgSpCH3NRt7I5OxHkObc6heU+/M/J5vrpBFM5GBLqCQux14COXs5CNXK5OjPGm1tSMrJSOMNYQ4mVTGV/L6zTL7+DovkbFUxbSW0Wo05l8hJWsU+cRWfSh+Mt5Lb1ck/J1TvVsdDaR/MiEni+llsdZuZp62EViu+96bpNjNPWwmtVnzvFd5m9IVVC54x/wA7gNvqFG9vXQAAAABJRU5ErkJggg==") no-repeat 0 0;\n}\n.uploader-file-actions > span:hover {\n  background-position-x: -21px;\n}\n.uploader-file-actions .uploader-file-pause {\n  background-position-y: 0;\n}\n.uploader-file-actions .uploader-file-resume {\n  background-position-y: -17px;\n}\n.uploader-file-actions .uploader-file-retry {\n  background-position-y: -53px;\n}\n.uploader-file-actions .uploader-file-remove {\n  display: block;\n  background-position-y: -34px;\n}\n'],sourceRoot:""}])},function(t,e,i){e=t.exports=i(0)(!0),e.push([t.i,".uploader{position:relative}","",{version:3,sources:["/Users/didi/Documents/git/private/vue-uploader/src/components/uploader.vue"],names:[],mappings:"AACA,UACE,iBAAmB,CACpB",file:"uploader.vue",sourcesContent:["\n.uploader {\n  position: relative;\n}\n"],sourceRoot:""}])},function(t,e,i){e=t.exports=i(0)(!0),e.push([t.i,".uploader-drop{position:relative;padding:10px;overflow:hidden;border:1px dashed #ccc;background-color:#f5f5f5}.uploader-dragover{border-color:#999;background-color:#f7f7f7}","",{version:3,sources:["/Users/didi/Documents/git/private/vue-uploader/src/components/drop.vue"],names:[],mappings:"AACA,eACE,kBAAmB,AACnB,aAAc,AACd,gBAAiB,AACjB,uBAAwB,AACxB,wBAA0B,CAC3B,AACD,mBACE,kBAAmB,AACnB,wBAA0B,CAC3B",file:"drop.vue",sourcesContent:["\n.uploader-drop {\n  position: relative;\n  padding: 10px;\n  overflow: hidden;\n  border: 1px dashed #ccc;\n  background-color: #f5f5f5;\n}\n.uploader-dragover {\n  border-color: #999;\n  background-color: #f7f7f7;\n}\n"],sourceRoot:""}])},function(t,e,i){e=t.exports=i(0)(!0),e.push([t.i,".uploader-files{position:relative}.uploader-files>ul{list-style:none;margin:0;padding:0}","",{version:3,sources:["/Users/didi/Documents/git/private/vue-uploader/src/components/files.vue"],names:[],mappings:"AACA,gBACE,iBAAmB,CACpB,AACD,mBACE,gBAAiB,AACjB,SAAU,AACV,SAAU,CACX",file:"files.vue",sourcesContent:["\n.uploader-files {\n  position: relative;\n}\n.uploader-files > ul {\n  list-style: none;\n  margin: 0;\n  padding: 0\n}\n"],sourceRoot:""}])},function(t,e,i){e=t.exports=i(0)(!0),e.push([t.i,".uploader-btn{display:inline-block;position:relative;padding:4px 8px;font-size:100%;line-height:1.4;color:#666;border:1px solid #666;cursor:pointer;border-radius:2px;background:none;outline:none}.uploader-btn:hover{background-color:rgba(0,0,0,.08)}","",{version:3,sources:["/Users/didi/Documents/git/private/vue-uploader/src/components/btn.vue"],names:[],mappings:"AACA,cACE,qBAAsB,AACtB,kBAAmB,AACnB,gBAAiB,AACjB,eAAgB,AAChB,gBAAiB,AACjB,WAAY,AACZ,sBAAuB,AACvB,eAAgB,AAChB,kBAAmB,AACnB,gBAAiB,AACjB,YAAc,CACf,AACD,oBACE,gCAAqC,CACtC",file:"btn.vue",sourcesContent:["\n.uploader-btn {\n  display: inline-block;\n  position: relative;\n  padding: 4px 8px;\n  font-size: 100%;\n  line-height: 1.4;\n  color: #666;\n  border: 1px solid #666;\n  cursor: pointer;\n  border-radius: 2px;\n  background: none;\n  outline: none;\n}\n.uploader-btn:hover {\n  background-color: rgba(0, 0, 0, .08);\n}\n"],sourceRoot:""}])},function(t,e,i){var n=i(4).each,r={_eventData:null,on:function(t,e){this._eventData||(this._eventData={}),this._eventData[t]||(this._eventData[t]=[]);var i=!1;n(this._eventData[t],function(t){if(t===e)return i=!0,!1}),i||this._eventData[t].push(e)},off:function(t,e){this._eventData||(this._eventData={}),this._eventData[t]&&this._eventData[t].length&&(e?n(this._eventData[t],function(i,n){if(i===e)return this._eventData[t].splice(n,1),!1},this):this._eventData[t]=[])},trigger:function(t){if(this._eventData||(this._eventData={}),!this._eventData[t])return!0;var e=this._eventData[t].slice.call(arguments,1),i=!1;return n(this._eventData[t],function(t){i=!1===t.apply(this,e)||i},this),!i}};t.exports=r},function(t,e,i){function n(t,e,i){o.defineNonEnumerable(this,"uploader",t),this.isRoot=this.isFolder=t===this,o.defineNonEnumerable(this,"parent",i||null),o.defineNonEnumerable(this,"files",[]),o.defineNonEnumerable(this,"fileList",[]),o.defineNonEnumerable(this,"chunks",[]),o.defineNonEnumerable(this,"_errorFiles",[]),o.defineNonEnumerable(this,"file",null),this.id=o.uid(),this.isRoot||!e?this.file=null:o.isString(e)?(this.isFolder=!0,this.file=null,this.path=e,this.parent.path&&(e=e.substr(this.parent.path.length)),this.name="/"===e.charAt(e.length-1)?e.substr(0,e.length-1):e):(this.file=e,this.fileType=this.file.type,this.name=e.fileName||e.name,this.size=e.size,this.relativePath=e.relativePath||e.webkitRelativePath||this.name,this._parseFile()),this.paused=!1,this.error=!1,this.allError=!1,this.aborted=!1,this.averageSpeed=0,this.currentSpeed=0,this._lastProgressCallback=Date.now(),this._prevUploadedSize=0,this._prevProgress=0,this.bootstrap()}function r(t){var e=[],i=t.split("/"),n=i.length,r=1;if(i.splice(n-1,1),n--,i.length)for(;r<=n;)e.push(i.slice(0,r++).join("/")+"/");return e}var o=i(4),a=i(20);o.extend(n.prototype,{_parseFile:function(){var t=r(this.relativePath);if(t.length){var e=this.uploader.filePaths;o.each(t,function(i,r){var o=e[i];o||(o=new n(this.uploader,i,this.parent),e[i]=o,this._updateParentFileList(o)),this.parent=o,o.files.push(this),t[r+1]||o.fileList.push(this)},this)}else this._updateParentFileList()},_updateParentFileList:function(t){t||(t=this);var e=this.parent;e&&e.fileList.push(t)},_eachAccess:function(t,e){if(this.isFolder)return void o.each(this.files,function(e,i){return t.call(this,e,i)},this);e.call(this,this)},bootstrap:function(){if(!this.isFolder){var t=this.uploader.opts;o.isFunction(t.initFileFn)&&t.initFileFn.call(this,this),this.abort(!0),this._resetError(),this._prevProgress=0;for(var e=t.forceChunkSize?Math.ceil:Math.floor,i=Math.max(e(this.size/t.chunkSize),1),n=0;n<i;n++)this.chunks.push(new a(this.uploader,this,n))}},_measureSpeed:function(t){var e=0,i=0,n=0;this._eachAccess(function(t){t.paused||t.error||(n+=1,e+=t.averageSpeed||0,i+=t.currentSpeed||0)},function(){var t=Date.now()-this._lastProgressCallback;if(t){var e=this.uploader.opts.speedSmoothingFactor,i=this.sizeUploaded();this.currentSpeed=Math.max((i-this._prevUploadedSize)/t*1e3,0),this.averageSpeed=e*this.currentSpeed+(1-e)*this.averageSpeed,this._prevUploadedSize=i}}),this.isFolder&&(n?(this.currentSpeed=i/n,this.averageSpeed=e/n):(this.currentSpeed=0,this.averageSpeed=0)),this.parent&&(t||this.parent._checkProgress())&&this.parent._measureSpeed()},_checkProgress:function(t){return Date.now()-this._lastProgressCallback>=this.uploader.opts.progressCallbacksInterval},_chunkEvent:function(t,e,i){var n=this.uploader,r=a.STATUS,o=this,s=this.getRoot(),l=function(e){o._measureSpeed(e),n._trigger("fileProgress",s,o,t),o._lastProgressCallback=Date.now()};switch(e){case r.PROGRESS:this._checkProgress()&&l();break;case r.ERROR:this._error(),this.abort(!0),n._trigger("fileError",s,this,i,t);break;case r.SUCCESS:if(this._updateUploadedChunks(i,t),this.error)return;clearTimeout(this._progeressId),this._progeressId=0;var p=Date.now()-this._lastProgressCallback;p<n.opts.progressCallbacksInterval&&(this._progeressId=setTimeout(l,n.opts.progressCallbacksInterval-p)),this.isComplete()?(clearTimeout(this._progeressId),l(!0),this.currentSpeed=0,this.averageSpeed=0,n._trigger("fileSuccess",s,this,i,t),s.isComplete()&&n._trigger("fileComplete",s,this)):this._progeressId||l();break;case r.RETRY:n._trigger("fileRetry",s,this,t)}},_updateUploadedChunks:function(t,e){var i=this.uploader.opts.checkChunkUploadedByResponse;i?(o.each(this.chunks,function(n){!n.tested&&i.call(this,n,t)&&(n.xhr=e.xhr),n.tested=!0},this),this._firstResponse?this.uploader.uploadNextChunk():(this._firstResponse=!0,this.uploader.upload(!0))):this.uploader.uploadNextChunk()},_error:function(){this.error=this.allError=!0;for(var t=this.parent;t&&t!==this.uploader;)t._errorFiles.push(this),t.error=!0,t._errorFiles.length===t.files.length&&(t.allError=!0),t=t.parent},_resetError:function(){this.error=this.allError=!1;for(var t=this.parent,e=-1;t&&t!==this.uploader;)e=t._errorFiles.indexOf(this),t._errorFiles.splice(e,1),t.allError=!1,t._errorFiles.length||(t.error=!1),t=t.parent},isComplete:function(){var t=!1;return this._eachAccess(function(e){if(!e.isComplete())return t=!0,!1},function(){var e=a.STATUS;o.each(this.chunks,function(i){var n=i.status();if(n===e.PENDING||n===e.UPLOADING||n===e.READING||1===i.preprocessState||1===i.readState)return t=!0,!1})}),!t},isUploading:function(){var t=!1;return this._eachAccess(function(e){if(e.isUploading())return t=!0,!1},function(){var e=a.STATUS.UPLOADING;o.each(this.chunks,function(i){if(i.status()===e)return t=!0,!1})}),t},resume:function(){this._eachAccess(function(t){t.resume()},function(){this.paused=!1,this.aborted=!1,this.uploader.upload()}),this.paused=!1,this.aborted=!1},pause:function(){this._eachAccess(function(t){t.pause()},function(){this.paused=!0,this.abort()}),this.paused=!0},cancel:function(){this.uploader.removeFile(this)},retry:function(t){var e=function(t){t.error&&t.bootstrap()};t?t.bootstrap():this._eachAccess(e,function(){this.bootstrap()}),this.uploader.upload()},abort:function(t){if(!this.aborted){this.currentSpeed=0,this.averageSpeed=0,this.aborted=!t;var e=this.chunks;t&&(this.chunks=[]);var i=a.STATUS.UPLOADING;o.each(e,function(t){t.status()===i&&(t.abort(),this.uploader.uploadNextChunk())},this)}},progress:function(){var t=0,e=0,i=0;return this._eachAccess(function(n,r){t+=n.progress()*n.size,e+=n.size,r===this.files.length-1&&(i=e>0?t/e:this.isComplete()?1:0)},function(){if(this.error)return void(i=1);if(1===this.chunks.length)return this._prevProgress=Math.max(this._prevProgress,this.chunks[0].progress()),void(i=this._prevProgress);var t=0;o.each(this.chunks,function(e){t+=e.progress()*(e.endByte-e.startByte)});var e=t/this.size;this._prevProgress=Math.max(this._prevProgress,e>.9999?1:e),i=this._prevProgress}),i},getSize:function(){var t=0;return this._eachAccess(function(e){t+=e.size},function(){t+=this.size}),t},getFormatSize:function(){var t=this.getSize();return o.formatSize(t)},getRoot:function(){if(this.isRoot)return this;for(var t=this.parent;t;){if(t.parent===this.uploader)return t;t=t.parent}return this},sizeUploaded:function(){var t=0;return this._eachAccess(function(e){t+=e.sizeUploaded()},function(){o.each(this.chunks,function(e){t+=e.sizeUploaded()})}),t},timeRemaining:function(){function t(t,e){return t&&!e?Number.POSITIVE_INFINITY:t||e?Math.floor(t/e):0}var e=0,i=0,n=0;return this._eachAccess(function(r,o){r.paused||r.error||(i+=r.size-r.sizeUploaded(),n+=r.averageSpeed),o===this.files.length-1&&(e=t(i,n))},function(){if(this.paused||this.error)return void(e=0);var i=this.size-this.sizeUploaded();e=t(i,this.averageSpeed)}),e},removeFile:function(t){if(t.isFolder)for(;t.files.length;){var e=t.files[t.files.length-1];this._removeFile(e)}this._removeFile(t)},_delFilePath:function(t){t.path&&this.filePaths&&delete this.filePaths[t.path],o.each(t.fileList,function(t){this._delFilePath(t)},this)},_removeFile:function(t){if(!t.isFolder){o.each(this.files,function(e,i){if(e===t)return this.files.splice(i,1),!1},this),t.abort();for(var e,i=t.parent;i&&i!==this;)e=i.parent,i._removeFile(t),i=e}t.parent===this&&o.each(this.fileList,function(e,i){if(e===t)return this.fileList.splice(i,1),!1},this),this.isRoot||!this.isFolder||this.files.length||(this.parent._removeFile(this),this.uploader._delFilePath(this)),t.parent=null},getType:function(){return this.isFolder?"folder":this.file.type&&this.file.type.split("/")[1]},getExtension:function(){return this.isFolder?"":this.name.substr(2+(~-this.name.lastIndexOf(".")>>>0)).toLowerCase()}}),t.exports=n},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{directives:[{name:"show",rawName:"v-show",value:!t.support,expression:"!support"}],staticClass:"uploader-unsupport"},[t._t("default",[t._m(0)])],2)},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",[t._v("\n      Your browser, unfortunately, is not supported by Uploader.js. The library requires support for "),i("a",{attrs:{href:"http://www.w3.org/TR/FileAPI/"}},[t._v("the HTML5 File API")]),t._v(" along with "),i("a",{attrs:{href:"http://www.w3.org/TR/FileAPI/#normalization-of-params"}},[t._v("file slicing")]),t._v(".\n    ")])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"uploader-list"},[t._t("default",[i("ul",t._l(t.fileList,function(t){return i("li",{key:t.id},[i("uploader-file",{attrs:{file:t,list:!0}})],1)}))],{fileList:t.fileList})],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"uploader-file",attrs:{status:t.status}},[t._t("default",[i("div",{staticClass:"uploader-file-progress",class:t.progressingClass,style:t.progressStyle}),t._v(" "),i("div",{staticClass:"uploader-file-info"},[i("div",{staticClass:"uploader-file-name"},[i("i",{staticClass:"uploader-file-icon",attrs:{icon:t.fileCategory}}),t._v(t._s(t.file.name))]),t._v(" "),i("div",{staticClass:"uploader-file-size"},[t._v(t._s(t.formatedSize))]),t._v(" "),i("div",{staticClass:"uploader-file-meta"}),t._v(" "),i("div",{staticClass:"uploader-file-status"},[i("span",{directives:[{name:"show",rawName:"v-show",value:"uploading"!==t.status,expression:"status !== 'uploading'"}]},[t._v(t._s(t.statusText))]),t._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:"uploading"===t.status,expression:"status === 'uploading'"}]},[i("span",[t._v(t._s(t.progressStyle.progress))]),t._v(" "),i("em",[t._v(t._s(t.formatedAverageSpeed))]),t._v(" "),i("i",[t._v(t._s(t.formatedTimeRemaining))])])]),t._v(" "),i("div",{staticClass:"uploader-file-actions"},[i("span",{staticClass:"uploader-file-pause",on:{click:t.pause}}),t._v(" "),i("span",{staticClass:"uploader-file-resume",on:{click:t.resume}},[t._v("️")]),t._v(" "),i("span",{staticClass:"uploader-file-retry",on:{click:t.retry}}),t._v(" "),i("span",{staticClass:"uploader-file-remove",on:{click:t.remove}})])])],{file:t.file,list:t.list,status:t.status,paused:t.paused,error:t.error,averageSpeed:t.averageSpeed,formatedAverageSpeed:t.formatedAverageSpeed,currentSpeed:t.currentSpeed,isComplete:t.isComplete,isUploading:t.isUploading,size:t.size,formatedSize:t.formatedSize,uploadedSize:t.uploadedSize,progress:t.progress,progressStyle:t.progressStyle,progressingClass:t.progressingClass,timeRemaining:t.timeRemaining,formatedTimeRemaining:t.formatedTimeRemaining,type:t.type,extension:t.extension,fileCategory:t.fileCategory})],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"uploader"},[t._t("default",[i("uploader-unsupport"),t._v(" "),i("uploader-drop",[i("p",[t._v("Drop files here to upload or")]),t._v(" "),i("uploader-btn",[t._v("select files")]),t._v(" "),i("uploader-btn",{attrs:{directory:!0}},[t._v("select folder")])],1),t._v(" "),i("uploader-list")],{files:t.files,fileList:t.fileList,started:t.started})],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{directives:[{name:"show",rawName:"v-show",value:t.support,expression:"support"}],ref:"drop",staticClass:"uploader-drop",class:t.dropClass},[t._t("default")],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"uploader-files"},[t._t("default",[i("ul",t._l(t.files,function(t){return i("li",{key:t.id},[i("uploader-file",{attrs:{file:t}})],1)}))],{files:t.files})],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("span",{directives:[{name:"show",rawName:"v-show",value:t.support,expression:"support"}],ref:"btn",staticClass:"uploader-btn"},[t._t("default")],2)},staticRenderFns:[]}},function(t,e,i){var n=i(59);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals),i(2)("2e4f4074",n,!0,{})},function(t,e,i){var n=i(60);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals),i(2)("30297bf6",n,!0,{})},function(t,e,i){var n=i(61);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals),i(2)("9c4391de",n,!0,{})},function(t,e,i){var n=i(62);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals),i(2)("6f0f0164",n,!0,{})},function(t,e,i){var n=i(63);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals),i(2)("f60d437e",n,!0,{})},function(t,e,i){var n=i(64);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals),i(2)("36e02209",n,!0,{})},function(t,e,i){var n=i(65);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals),i(2)("fb1ffb7e",n,!0,{})},function(t,e){t.exports=function(t,e){for(var i=[],n={},r=0;r<e.length;r++){var o=e[r],a=o[0],s=o[1],l=o[2],p=o[3],h={id:t+":"+r,css:s,media:l,sourceMap:p};n[a]?n[a].parts.push(h):i.push(n[a]={id:a,parts:[h]})}return i}}])})},FnHi:function(t,e,i){var n=i("1/zs");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i("FIqI")("bbcd20c2",n,!0,{})},IkJ3:function(t,e,i){e=t.exports=i("UTlt")(!1),e.push([t.i,".preview[data-v-220efefc]{overflow:hidden}",""])},OIPd:function(t,e,i){var n=i("IkJ3");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i("FIqI")("4ce6af39",n,!0,{})},WiDM:function(t,e,i){"use strict";function n(t){i("OIPd")}Object.defineProperty(e,"__esModule",{value:!0});var r=i("/bqT"),o=i("hktI"),a=i("C7Lr"),s=n,l=a(r.a,o.a,!1,s,"data-v-220efefc",null);e.default=l.exports},hktI:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("mt-header",{attrs:{title:"上传"}},[i("mt-button",{attrs:{slot:"left",icon:"back"},on:{click:t.back},slot:"left"},[i("span",[t._v("返回")])])],1),t._v(" "),i("div",{staticClass:"pd-md"},[i("mt-button",{attrs:{type:"primary",size:"large"},on:{click:function(e){return t.showUpload("uploadVisible")}}},[t._v("文件上传")]),i("br"),t._v(" "),i("mt-button",{attrs:{type:"primary",size:"large"},on:{click:function(e){return t.showUpload("cropVisible")}}},[t._v("图片上传")]),i("br"),t._v(" "),i("mt-button",{attrs:{type:"primary",size:"large"},on:{click:function(e){return t.showUpload("galleryVisible")}}},[t._v("相册管理")]),i("br")],1),t._v(" "),i("mt-popup",{staticStyle:{width:"100%",height:"100%"},attrs:{position:"right"},model:{value:t.uploadVisible,callback:function(e){t.uploadVisible=e},expression:"uploadVisible"}},[i("mt-header",{attrs:{title:"文件上传"}},[i("mt-button",{attrs:{slot:"left",icon:"back"},on:{click:function(e){t.uploadVisible=!t.uploadVisible}},slot:"left"},[t._v("返回")])],1),t._v(" "),i("div",{staticClass:"pd-md"},[i("uploader",{staticClass:"uploader-example",attrs:{options:t.options}},[i("uploader-unsupport",[t._v("对不起，您的浏览器不支持此上传控件")]),t._v(" "),i("uploader-drop",[i("p",[t._v("拖动文件到此处上传")]),t._v(" "),i("uploader-btn",[t._v("选择文件")]),t._v(" "),i("uploader-btn",{attrs:{attrs:t.attrs}},[t._v("选择图片")]),t._v(" "),i("uploader-btn",{attrs:{directory:!0}},[t._v("选择文件夹")])],1),t._v(" "),i("uploader-list")],1)],1)],1),t._v(" "),i("mt-popup",{staticStyle:{width:"100%",height:"100%"},attrs:{position:"right"},model:{value:t.cropVisible,callback:function(e){t.cropVisible=e},expression:"cropVisible"}},[i("mt-header",{attrs:{title:"图片上传"}},[i("mt-button",{attrs:{slot:"left",icon:"back"},on:{click:function(e){t.cropVisible=!t.cropVisible}},slot:"left"},[t._v("返回")]),t._v(" "),i("mt-button",{attrs:{slot:"right"},on:{click:function(t){}},slot:"right"},[t._v("\n          选择图片\n          "),i("input",{ref:"imgFile",staticStyle:{position:"absolute",top:"0",right:"0",opacity:"0",width:"58px",height:"40px"},attrs:{accept:"image/*",type:"file",name:"",value:""},on:{change:t.selectImg}})])],1),t._v(" "),i("div",{staticClass:"uploadBox",staticStyle:{width:"100%"}},[i("img",{attrs:{id:"image"}})]),t._v(" "),i("div",{staticClass:"pd-md center"},[i("div",{staticStyle:{display:"inline-block",width:"100px"}},[i("div",{staticClass:"preview"})])]),t._v(" "),i("div",{staticClass:"pd-md",staticStyle:{position:"absolute",bottom:"0",width:"100%",height:"61px","box-sizing":"border-box"}},[i("mt-button",{directives:[{name:"show",rawName:"v-show",value:t.imgReady,expression:"imgReady"}],staticClass:"btn-upload",attrs:{type:"primary",size:"large"},on:{click:t.uploadImg}},[t._v("开始上传")]),t._v(" "),i("mt-progress",{directives:[{name:"show",rawName:"v-show",value:t.uploading||100==t.percent,expression:"uploading || percent==100"}],staticStyle:{"margin-top":"10px"},attrs:{value:t.percent,"bar-height":5}},[i("div",{attrs:{slot:"start"},slot:"start"},[t._v("上传文件　")]),t._v(" "),i("div",{attrs:{slot:"end"},slot:"end"},[i("span",{staticStyle:{display:"inline-block",width:"60px"}},[t._v("　"+t._s(t.percent)+"%")])])])],1)],1),t._v(" "),i("mt-popup",{staticStyle:{"overflow-y":"auto",background:"#eee",width:"100%",height:"100%","z-index":"1000"},attrs:{position:"right"},model:{value:t.galleryVisible,callback:function(e){t.galleryVisible=e},expression:"galleryVisible"}},[i("mt-header",{attrs:{title:"相册管理"}},[i("mt-button",{attrs:{slot:"left",icon:"back"},on:{click:function(e){t.galleryVisible=!t.galleryVisible}},slot:"left"},[t._v("返回")]),t._v(" "),i("mt-button",{attrs:{slot:"right"},on:{click:t.createGallery},slot:"right"},[t._v("创建相册")])],1),t._v(" "),i("div",{staticClass:"flexable",staticStyle:{padding:"10px 5px","flex-wrap":"wrap","justify-content":"space-between"}},t._l(2,function(e){return i("div",{staticClass:"flex-item"},t._l(5,function(n){return(n+e-1)%2==0?i("div",{staticStyle:{"margin-bottom":"10px",background:"#fff",border:"1px solid #ccc","border-radius":"5px"}},[i("div",{staticClass:"pd-sm",staticStyle:{"border-radius":"5px 5px 0 0"}},[i("img",{staticStyle:{width:"100%"},attrs:{src:"./static/img/gallery/"+(n-1)+".jpg"}}),t._v(" "),i("div",{staticStyle:{padding:"0 5px",color:"#999","font-size":"14px"}},[i("i",{staticClass:"fa fa-map-marker"}),t._v(" "),i("span",[t._v("上海市浦东新区xxx路xxx号")])])]),t._v(" "),i("div",{staticClass:"flexable primary",staticStyle:{padding:"10px 0","font-size":"14px","justify-content":"space-around","border-top":"1px solid #ccc","border-radius":"0 0 5px 5px"}},[i("i",{staticClass:"fa fa-thumbs-up",staticStyle:{color:"rgb(255, 215, 0)"}}),t._v(" "),i("i",{staticClass:"fa fa-heart",staticStyle:{color:"rgb(255, 99, 71)"}}),t._v(" "),i("i",{staticClass:"fa fa-share-alt",staticStyle:{color:"rgb(50, 205, 50)"}})])]):t._e()}),0)}),0)],1)],1)},r=[],o={render:n,staticRenderFns:r};e.a=o},k1bi:function(t,e,i){/*!
 * Cropper.js v1.5.12
 * https://fengyuanchen.github.io/cropperjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2021-06-12T08:00:17.411Z
 */
!function(e,i){t.exports=i()}(0,function(){"use strict";function t(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)}return i}function e(e){for(var i=1;i<arguments.length;i++){var n=null!=arguments[i]?arguments[i]:{};i%2?t(Object(n),!0).forEach(function(t){a(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function i(t){"@babel/helpers - typeof";return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function o(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}function a(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function s(t){return l(t)||p(t)||h(t)||u()}function l(t){if(Array.isArray(t))return c(t)}function p(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function h(t,e){if(t){if("string"==typeof t)return c(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?c(t,e):void 0}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function u(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function d(t){return"number"==typeof t&&!At(t)}function f(t){return void 0===t}function g(t){return"object"===i(t)&&null!==t}function v(t){if(!g(t))return!1;try{var e=t.constructor,i=e.prototype;return e&&i&&xt.call(i,"isPrototypeOf")}catch(t){return!1}}function m(t){return"function"==typeof t}function A(t){return Array.from?Array.from(t):yt.call(t)}function b(t,e){return t&&m(e)&&(Array.isArray(t)||d(t.length)?A(t).forEach(function(i,n){e.call(t,i,n,t)}):g(t)&&Object.keys(t).forEach(function(i){e.call(t,t[i],i,t)})),t}function x(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e11;return wt.test(t)?Math.round(t*e)/e:t}function y(t,e){var i=t.style;b(e,function(t,e){Bt.test(e)&&d(t)&&(t="".concat(t,"px")),i[e]=t})}function C(t,e){return t.classList?t.classList.contains(e):t.className.indexOf(e)>-1}function w(t,e){if(e){if(d(t.length))return void b(t,function(t){w(t,e)});if(t.classList)return void t.classList.add(e);var i=t.className.trim();i?i.indexOf(e)<0&&(t.className="".concat(i," ").concat(e)):t.className=e}}function B(t,e){if(e)return d(t.length)?void b(t,function(t){B(t,e)}):t.classList?void t.classList.remove(e):void(t.className.indexOf(e)>=0&&(t.className=t.className.replace(e,"")))}function k(t,e,i){if(e)return d(t.length)?void b(t,function(t){k(t,e,i)}):void(i?w(t,e):B(t,e))}function _(t){return t.replace(kt,"$1-$2").toLowerCase()}function S(t,e){return g(t[e])?t[e]:t.dataset?t.dataset[e]:t.getAttribute("data-".concat(_(e)))}function E(t,e,i){g(i)?t[e]=i:t.dataset?t.dataset[e]=i:t.setAttribute("data-".concat(_(e)),i)}function D(t,e){if(g(t[e]))try{delete t[e]}catch(i){t[e]=void 0}else if(t.dataset)try{delete t.dataset[e]}catch(i){t.dataset[e]=void 0}else t.removeAttribute("data-".concat(_(e)))}function M(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=i;e.trim().split(_t).forEach(function(e){if(!St){var o=t.listeners;o&&o[e]&&o[e][i]&&(r=o[e][i],delete o[e][i],0===Object.keys(o[e]).length&&delete o[e],0===Object.keys(o).length&&delete t.listeners)}t.removeEventListener(e,r,n)})}function R(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=i;e.trim().split(_t).forEach(function(e){if(n.once&&!St){var o=t.listeners,a=void 0===o?{}:o;r=function(){delete a[e][i],t.removeEventListener(e,r,n);for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];i.apply(t,s)},a[e]||(a[e]={}),a[e][i]&&t.removeEventListener(e,a[e][i],n),a[e][i]=r,t.listeners=a}t.addEventListener(e,r,n)})}function O(t,e,i){var n;return m(Event)&&m(CustomEvent)?n=new CustomEvent(e,{detail:i,bubbles:!0,cancelable:!0}):(n=document.createEvent("CustomEvent"),n.initCustomEvent(e,!0,!0,i)),t.dispatchEvent(n)}function T(t){var e=t.getBoundingClientRect();return{left:e.left+(window.pageXOffset-document.documentElement.clientLeft),top:e.top+(window.pageYOffset-document.documentElement.clientTop)}}function z(t){var e=t.match(Dt);return null!==e&&(e[1]!==Et.protocol||e[2]!==Et.hostname||e[3]!==Et.port)}function U(t){var e="timestamp=".concat((new Date).getTime());return t+(-1===t.indexOf("?")?"?":"&")+e}function F(t){var e=t.rotate,i=t.scaleX,n=t.scaleY,r=t.translateX,o=t.translateY,a=[];d(r)&&0!==r&&a.push("translateX(".concat(r,"px)")),d(o)&&0!==o&&a.push("translateY(".concat(o,"px)")),d(e)&&0!==e&&a.push("rotate(".concat(e,"deg)")),d(i)&&1!==i&&a.push("scaleX(".concat(i,")")),d(n)&&1!==n&&a.push("scaleY(".concat(n,")"));var s=a.length?a.join(" "):"none";return{WebkitTransform:s,msTransform:s,transform:s}}function N(t){var i=e({},t),n=0;return b(t,function(t,e){delete i[e],b(i,function(e){var i=Math.abs(t.startX-e.startX),r=Math.abs(t.startY-e.startY),o=Math.abs(t.endX-e.endX),a=Math.abs(t.endY-e.endY),s=Math.sqrt(i*i+r*r),l=Math.sqrt(o*o+a*a),p=(l-s)/s;Math.abs(p)>Math.abs(n)&&(n=p)})}),n}function L(t,i){var n=t.pageX,r=t.pageY,o={endX:n,endY:r};return i?o:e({startX:n,startY:r},o)}function P(t){var e=0,i=0,n=0;return b(t,function(t){var r=t.startX,o=t.startY;e+=r,i+=o,n+=1}),e/=n,i/=n,{pageX:e,pageY:i}}function j(t){var e=t.aspectRatio,i=t.height,n=t.width,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"contain",o=bt(n),a=bt(i);if(o&&a){var s=i*e;"contain"===r&&s>n||"cover"===r&&s<n?i=n/e:n=i*e}else o?i=n/e:a&&(n=i*e);return{width:n,height:i}}function I(t){var e=t.width,i=t.height,n=t.degree;if(90===(n=Math.abs(n)%180))return{width:i,height:e};var r=n%90*Math.PI/180,o=Math.sin(r),a=Math.cos(r),s=e*a+i*o,l=e*o+i*a;return n>90?{width:l,height:s}:{width:s,height:l}}function H(t,e,i,n){var r=e.aspectRatio,o=e.naturalWidth,a=e.naturalHeight,l=e.rotate,p=void 0===l?0:l,h=e.scaleX,c=void 0===h?1:h,u=e.scaleY,d=void 0===u?1:u,f=i.aspectRatio,g=i.naturalWidth,v=i.naturalHeight,m=n.fillColor,A=void 0===m?"transparent":m,b=n.imageSmoothingEnabled,y=void 0===b||b,C=n.imageSmoothingQuality,w=void 0===C?"low":C,B=n.maxWidth,k=void 0===B?1/0:B,_=n.maxHeight,S=void 0===_?1/0:_,E=n.minWidth,D=void 0===E?0:E,M=n.minHeight,R=void 0===M?0:M,O=document.createElement("canvas"),T=O.getContext("2d"),z=j({aspectRatio:f,width:k,height:S}),U=j({aspectRatio:f,width:D,height:R},"cover"),F=Math.min(z.width,Math.max(U.width,g)),N=Math.min(z.height,Math.max(U.height,v)),L=j({aspectRatio:r,width:k,height:S}),P=j({aspectRatio:r,width:D,height:R},"cover"),I=Math.min(L.width,Math.max(P.width,o)),H=Math.min(L.height,Math.max(P.height,a)),W=[-I/2,-H/2,I,H];return O.width=x(F),O.height=x(N),T.fillStyle=A,T.fillRect(0,0,F,N),T.save(),T.translate(F/2,N/2),T.rotate(p*Math.PI/180),T.scale(c,d),T.imageSmoothingEnabled=y,T.imageSmoothingQuality=w,T.drawImage.apply(T,[t].concat(s(W.map(function(t){return Math.floor(x(t))})))),T.restore(),O}function W(t,e,i){var n="";i+=e;for(var r=e;r<i;r+=1)n+=Mt(t.getUint8(r));return n}function V(t){var e=t.replace(Rt,""),i=atob(e),n=new ArrayBuffer(i.length),r=new Uint8Array(n);return b(r,function(t,e){r[e]=i.charCodeAt(e)}),n}function Y(t,e){for(var i=[],n=new Uint8Array(t);n.length>0;)i.push(Mt.apply(null,A(n.subarray(0,8192)))),n=n.subarray(8192);return"data:".concat(e,";base64,").concat(btoa(i.join("")))}function X(t){var e,i=new DataView(t);try{var n,r,o;if(255===i.getUint8(0)&&216===i.getUint8(1))for(var a=i.byteLength,s=2;s+1<a;){if(255===i.getUint8(s)&&225===i.getUint8(s+1)){r=s;break}s+=1}if(r){var l=r+4,p=r+10;if("Exif"===W(i,l,4)){var h=i.getUint16(p);if(((n=18761===h)||19789===h)&&42===i.getUint16(p+2,n)){var c=i.getUint32(p+4,n);c>=8&&(o=p+c)}}}if(o){var u,d,f=i.getUint16(o,n);for(d=0;d<f;d+=1)if(u=o+12*d+2,274===i.getUint16(u,n)){u+=8,e=i.getUint16(u,n),i.setUint16(u,1,n);break}}}catch(t){e=1}return e}function G(t){var e=0,i=1,n=1;switch(t){case 2:i=-1;break;case 3:e=-180;break;case 4:n=-1;break;case 5:e=90,n=-1;break;case 6:e=90;break;case 7:e=90,i=-1;break;case 8:e=-90}return{rotate:e,scaleX:i,scaleY:n}}var J="undefined"!=typeof window&&void 0!==window.document,q=J?window:{},Q=!(!J||!q.document.documentElement)&&"ontouchstart"in q.document.documentElement,Z=!!J&&"PointerEvent"in q,K="".concat("cropper","-crop"),$="".concat("cropper","-disabled"),tt="".concat("cropper","-hidden"),et="".concat("cropper","-hide"),it="".concat("cropper","-invisible"),nt="".concat("cropper","-modal"),rt="".concat("cropper","-move"),ot="".concat("cropper","Action"),at="".concat("cropper","Preview"),st=Q?"touchstart":"mousedown",lt=Q?"touchmove":"mousemove",pt=Q?"touchend touchcancel":"mouseup",ht=Z?"pointerdown":st,ct=Z?"pointermove":lt,ut=Z?"pointerup pointercancel":pt,dt=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,ft=/^data:/,gt=/^data:image\/jpeg;base64,/,vt=/^img|canvas$/i,mt={viewMode:0,dragMode:"crop",initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:200,minContainerHeight:100,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},At=Number.isNaN||q.isNaN,bt=function(t){return t>0&&t<1/0},xt=Object.prototype.hasOwnProperty,yt=Array.prototype.slice,Ct=Object.assign||function(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];return g(t)&&i.length>0&&i.forEach(function(e){g(e)&&Object.keys(e).forEach(function(i){t[i]=e[i]})}),t},wt=/\.\d*(?:0|9){12}\d*$/,Bt=/^width|height|left|top|marginLeft|marginTop$/,kt=/([a-z\d])([A-Z])/g,_t=/\s\s*/,St=function(){var t=!1;if(J){var e=!1,i=function(){},n=Object.defineProperty({},"once",{get:function(){return t=!0,e},set:function(t){e=t}});q.addEventListener("test",i,n),q.removeEventListener("test",i,n)}return t}(),Et=q.location,Dt=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i,Mt=String.fromCharCode,Rt=/^data:.*,/,Ot={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var t=this.element,e=this.options,i=this.container,n=this.cropper,r=Number(e.minContainerWidth),o=Number(e.minContainerHeight);w(n,tt),B(t,tt);var a={width:Math.max(i.offsetWidth,r>=0?r:200),height:Math.max(i.offsetHeight,o>=0?o:100)};this.containerData=a,y(n,{width:a.width,height:a.height}),w(t,tt),B(n,tt)},initCanvas:function(){var t=this.containerData,e=this.imageData,i=this.options.viewMode,n=Math.abs(e.rotate)%180==90,r=n?e.naturalHeight:e.naturalWidth,o=n?e.naturalWidth:e.naturalHeight,a=r/o,s=t.width,l=t.height;t.height*a>t.width?3===i?s=t.height*a:l=t.width/a:3===i?l=t.width/a:s=t.height*a;var p={aspectRatio:a,naturalWidth:r,naturalHeight:o,width:s,height:l};this.canvasData=p,this.limited=1===i||2===i,this.limitCanvas(!0,!0),p.width=Math.min(Math.max(p.width,p.minWidth),p.maxWidth),p.height=Math.min(Math.max(p.height,p.minHeight),p.maxHeight),p.left=(t.width-p.width)/2,p.top=(t.height-p.height)/2,p.oldLeft=p.left,p.oldTop=p.top,this.initialCanvasData=Ct({},p)},limitCanvas:function(t,e){var i=this.options,n=this.containerData,r=this.canvasData,o=this.cropBoxData,a=i.viewMode,s=r.aspectRatio,l=this.cropped&&o;if(t){var p=Number(i.minCanvasWidth)||0,h=Number(i.minCanvasHeight)||0;a>1?(p=Math.max(p,n.width),h=Math.max(h,n.height),3===a&&(h*s>p?p=h*s:h=p/s)):a>0&&(p?p=Math.max(p,l?o.width:0):h?h=Math.max(h,l?o.height:0):l&&(p=o.width,h=o.height,h*s>p?p=h*s:h=p/s));var c=j({aspectRatio:s,width:p,height:h});p=c.width,h=c.height,r.minWidth=p,r.minHeight=h,r.maxWidth=1/0,r.maxHeight=1/0}if(e)if(a>(l?0:1)){var u=n.width-r.width,d=n.height-r.height;r.minLeft=Math.min(0,u),r.minTop=Math.min(0,d),r.maxLeft=Math.max(0,u),r.maxTop=Math.max(0,d),l&&this.limited&&(r.minLeft=Math.min(o.left,o.left+(o.width-r.width)),r.minTop=Math.min(o.top,o.top+(o.height-r.height)),r.maxLeft=o.left,r.maxTop=o.top,2===a&&(r.width>=n.width&&(r.minLeft=Math.min(0,u),r.maxLeft=Math.max(0,u)),r.height>=n.height&&(r.minTop=Math.min(0,d),r.maxTop=Math.max(0,d))))}else r.minLeft=-r.width,r.minTop=-r.height,r.maxLeft=n.width,r.maxTop=n.height},renderCanvas:function(t,e){var i=this.canvasData,n=this.imageData;if(e){var r=I({width:n.naturalWidth*Math.abs(n.scaleX||1),height:n.naturalHeight*Math.abs(n.scaleY||1),degree:n.rotate||0}),o=r.width,a=r.height,s=i.width*(o/i.naturalWidth),l=i.height*(a/i.naturalHeight);i.left-=(s-i.width)/2,i.top-=(l-i.height)/2,i.width=s,i.height=l,i.aspectRatio=o/a,i.naturalWidth=o,i.naturalHeight=a,this.limitCanvas(!0,!1)}(i.width>i.maxWidth||i.width<i.minWidth)&&(i.left=i.oldLeft),(i.height>i.maxHeight||i.height<i.minHeight)&&(i.top=i.oldTop),i.width=Math.min(Math.max(i.width,i.minWidth),i.maxWidth),i.height=Math.min(Math.max(i.height,i.minHeight),i.maxHeight),this.limitCanvas(!1,!0),i.left=Math.min(Math.max(i.left,i.minLeft),i.maxLeft),i.top=Math.min(Math.max(i.top,i.minTop),i.maxTop),i.oldLeft=i.left,i.oldTop=i.top,y(this.canvas,Ct({width:i.width,height:i.height},F({translateX:i.left,translateY:i.top}))),this.renderImage(t),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(t){var e=this.canvasData,i=this.imageData,n=i.naturalWidth*(e.width/e.naturalWidth),r=i.naturalHeight*(e.height/e.naturalHeight);Ct(i,{width:n,height:r,left:(e.width-n)/2,top:(e.height-r)/2}),y(this.image,Ct({width:i.width,height:i.height},F(Ct({translateX:i.left,translateY:i.top},i)))),t&&this.output()},initCropBox:function(){var t=this.options,e=this.canvasData,i=t.aspectRatio||t.initialAspectRatio,n=Number(t.autoCropArea)||.8,r={width:e.width,height:e.height};i&&(e.height*i>e.width?r.height=r.width/i:r.width=r.height*i),this.cropBoxData=r,this.limitCropBox(!0,!0),r.width=Math.min(Math.max(r.width,r.minWidth),r.maxWidth),r.height=Math.min(Math.max(r.height,r.minHeight),r.maxHeight),r.width=Math.max(r.minWidth,r.width*n),r.height=Math.max(r.minHeight,r.height*n),r.left=e.left+(e.width-r.width)/2,r.top=e.top+(e.height-r.height)/2,r.oldLeft=r.left,r.oldTop=r.top,this.initialCropBoxData=Ct({},r)},limitCropBox:function(t,e){var i=this.options,n=this.containerData,r=this.canvasData,o=this.cropBoxData,a=this.limited,s=i.aspectRatio;if(t){var l=Number(i.minCropBoxWidth)||0,p=Number(i.minCropBoxHeight)||0,h=a?Math.min(n.width,r.width,r.width+r.left,n.width-r.left):n.width,c=a?Math.min(n.height,r.height,r.height+r.top,n.height-r.top):n.height;l=Math.min(l,n.width),p=Math.min(p,n.height),s&&(l&&p?p*s>l?p=l/s:l=p*s:l?p=l/s:p&&(l=p*s),c*s>h?c=h/s:h=c*s),o.minWidth=Math.min(l,h),o.minHeight=Math.min(p,c),o.maxWidth=h,o.maxHeight=c}e&&(a?(o.minLeft=Math.max(0,r.left),o.minTop=Math.max(0,r.top),o.maxLeft=Math.min(n.width,r.left+r.width)-o.width,o.maxTop=Math.min(n.height,r.top+r.height)-o.height):(o.minLeft=0,o.minTop=0,o.maxLeft=n.width-o.width,o.maxTop=n.height-o.height))},renderCropBox:function(){var t=this.options,e=this.containerData,i=this.cropBoxData;(i.width>i.maxWidth||i.width<i.minWidth)&&(i.left=i.oldLeft),(i.height>i.maxHeight||i.height<i.minHeight)&&(i.top=i.oldTop),i.width=Math.min(Math.max(i.width,i.minWidth),i.maxWidth),i.height=Math.min(Math.max(i.height,i.minHeight),i.maxHeight),this.limitCropBox(!1,!0),i.left=Math.min(Math.max(i.left,i.minLeft),i.maxLeft),i.top=Math.min(Math.max(i.top,i.minTop),i.maxTop),i.oldLeft=i.left,i.oldTop=i.top,t.movable&&t.cropBoxMovable&&E(this.face,ot,i.width>=e.width&&i.height>=e.height?"move":"all"),y(this.cropBox,Ct({width:i.width,height:i.height},F({translateX:i.left,translateY:i.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),O(this.element,"crop",this.getData())}},Tt={initPreview:function(){var t=this.element,e=this.crossOrigin,i=this.options.preview,n=e?this.crossOriginUrl:this.url,r=t.alt||"The image to preview",o=document.createElement("img");if(e&&(o.crossOrigin=e),o.src=n,o.alt=r,this.viewBox.appendChild(o),this.viewBoxImage=o,i){var a=i;"string"==typeof i?a=t.ownerDocument.querySelectorAll(i):i.querySelector&&(a=[i]),this.previews=a,b(a,function(t){var i=document.createElement("img");E(t,at,{width:t.offsetWidth,height:t.offsetHeight,html:t.innerHTML}),e&&(i.crossOrigin=e),i.src=n,i.alt=r,i.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',t.innerHTML="",t.appendChild(i)})}},resetPreview:function(){b(this.previews,function(t){var e=S(t,at);y(t,{width:e.width,height:e.height}),t.innerHTML=e.html,D(t,at)})},preview:function(){var t=this.imageData,e=this.canvasData,i=this.cropBoxData,n=i.width,r=i.height,o=t.width,a=t.height,s=i.left-e.left-t.left,l=i.top-e.top-t.top;this.cropped&&!this.disabled&&(y(this.viewBoxImage,Ct({width:o,height:a},F(Ct({translateX:-s,translateY:-l},t)))),b(this.previews,function(e){var i=S(e,at),p=i.width,h=i.height,c=p,u=h,d=1;n&&(d=p/n,u=r*d),r&&u>h&&(d=h/r,c=n*d,u=h),y(e,{width:c,height:u}),y(e.getElementsByTagName("img")[0],Ct({width:o*d,height:a*d},F(Ct({translateX:-s*d,translateY:-l*d},t))))}))}},zt={bind:function(){var t=this.element,e=this.options,i=this.cropper;m(e.cropstart)&&R(t,"cropstart",e.cropstart),m(e.cropmove)&&R(t,"cropmove",e.cropmove),m(e.cropend)&&R(t,"cropend",e.cropend),m(e.crop)&&R(t,"crop",e.crop),m(e.zoom)&&R(t,"zoom",e.zoom),R(i,ht,this.onCropStart=this.cropStart.bind(this)),e.zoomable&&e.zoomOnWheel&&R(i,"wheel",this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),e.toggleDragModeOnDblclick&&R(i,"dblclick",this.onDblclick=this.dblclick.bind(this)),R(t.ownerDocument,ct,this.onCropMove=this.cropMove.bind(this)),R(t.ownerDocument,ut,this.onCropEnd=this.cropEnd.bind(this)),e.responsive&&R(window,"resize",this.onResize=this.resize.bind(this))},unbind:function(){var t=this.element,e=this.options,i=this.cropper;m(e.cropstart)&&M(t,"cropstart",e.cropstart),m(e.cropmove)&&M(t,"cropmove",e.cropmove),m(e.cropend)&&M(t,"cropend",e.cropend),m(e.crop)&&M(t,"crop",e.crop),m(e.zoom)&&M(t,"zoom",e.zoom),M(i,ht,this.onCropStart),e.zoomable&&e.zoomOnWheel&&M(i,"wheel",this.onWheel,{passive:!1,capture:!0}),e.toggleDragModeOnDblclick&&M(i,"dblclick",this.onDblclick),M(t.ownerDocument,ct,this.onCropMove),M(t.ownerDocument,ut,this.onCropEnd),e.responsive&&M(window,"resize",this.onResize)}},Ut={resize:function(){if(!this.disabled){var t=this.options,e=this.container,i=this.containerData,n=e.offsetWidth/i.width,r=e.offsetHeight/i.height,o=Math.abs(n-1)>Math.abs(r-1)?n:r;if(1!==o){var a,s;t.restore&&(a=this.getCanvasData(),s=this.getCropBoxData()),this.render(),t.restore&&(this.setCanvasData(b(a,function(t,e){a[e]=t*o})),this.setCropBoxData(b(s,function(t,e){s[e]=t*o})))}}},dblclick:function(){this.disabled||"none"===this.options.dragMode||this.setDragMode(C(this.dragBox,K)?"move":"crop")},wheel:function(t){var e=this,i=Number(this.options.wheelZoomRatio)||.1,n=1;this.disabled||(t.preventDefault(),this.wheeling||(this.wheeling=!0,setTimeout(function(){e.wheeling=!1},50),t.deltaY?n=t.deltaY>0?1:-1:t.wheelDelta?n=-t.wheelDelta/120:t.detail&&(n=t.detail>0?1:-1),this.zoom(-n*i,t)))},cropStart:function(t){var e=t.buttons,i=t.button;if(!(this.disabled||("mousedown"===t.type||"pointerdown"===t.type&&"mouse"===t.pointerType)&&(d(e)&&1!==e||d(i)&&0!==i||t.ctrlKey))){var n,r=this.options,o=this.pointers;t.changedTouches?b(t.changedTouches,function(t){o[t.identifier]=L(t)}):o[t.pointerId||0]=L(t),n=Object.keys(o).length>1&&r.zoomable&&r.zoomOnTouch?"zoom":S(t.target,ot),dt.test(n)&&!1!==O(this.element,"cropstart",{originalEvent:t,action:n})&&(t.preventDefault(),this.action=n,this.cropping=!1,"crop"===n&&(this.cropping=!0,w(this.dragBox,nt)))}},cropMove:function(t){var e=this.action;if(!this.disabled&&e){var i=this.pointers;t.preventDefault(),!1!==O(this.element,"cropmove",{originalEvent:t,action:e})&&(t.changedTouches?b(t.changedTouches,function(t){Ct(i[t.identifier]||{},L(t,!0))}):Ct(i[t.pointerId||0]||{},L(t,!0)),this.change(t))}},cropEnd:function(t){if(!this.disabled){var e=this.action,i=this.pointers;t.changedTouches?b(t.changedTouches,function(t){delete i[t.identifier]}):delete i[t.pointerId||0],e&&(t.preventDefault(),Object.keys(i).length||(this.action=""),this.cropping&&(this.cropping=!1,k(this.dragBox,nt,this.cropped&&this.options.modal)),O(this.element,"cropend",{originalEvent:t,action:e}))}}},Ft={change:function(t){var e,i=this.options,n=this.canvasData,r=this.containerData,o=this.cropBoxData,a=this.pointers,s=this.action,l=i.aspectRatio,p=o.left,h=o.top,c=o.width,u=o.height,d=p+c,f=h+u,g=0,v=0,m=r.width,A=r.height,x=!0;!l&&t.shiftKey&&(l=c&&u?c/u:1),this.limited&&(g=o.minLeft,v=o.minTop,m=g+Math.min(r.width,n.width,n.left+n.width),A=v+Math.min(r.height,n.height,n.top+n.height));var y=a[Object.keys(a)[0]],C={x:y.endX-y.startX,y:y.endY-y.startY},w=function(t){switch(t){case"e":d+C.x>m&&(C.x=m-d);break;case"w":p+C.x<g&&(C.x=g-p);break;case"n":h+C.y<v&&(C.y=v-h);break;case"s":f+C.y>A&&(C.y=A-f)}};switch(s){case"all":p+=C.x,h+=C.y;break;case"e":if(C.x>=0&&(d>=m||l&&(h<=v||f>=A))){x=!1;break}w("e"),c+=C.x,c<0&&(s="w",c=-c,p-=c),l&&(u=c/l,h+=(o.height-u)/2);break;case"n":if(C.y<=0&&(h<=v||l&&(p<=g||d>=m))){x=!1;break}w("n"),u-=C.y,h+=C.y,u<0&&(s="s",u=-u,h-=u),l&&(c=u*l,p+=(o.width-c)/2);break;case"w":if(C.x<=0&&(p<=g||l&&(h<=v||f>=A))){x=!1;break}w("w"),c-=C.x,p+=C.x,c<0&&(s="e",c=-c,p-=c),l&&(u=c/l,h+=(o.height-u)/2);break;case"s":if(C.y>=0&&(f>=A||l&&(p<=g||d>=m))){x=!1;break}w("s"),u+=C.y,u<0&&(s="n",u=-u,h-=u),l&&(c=u*l,p+=(o.width-c)/2);break;case"ne":if(l){if(C.y<=0&&(h<=v||d>=m)){x=!1;break}w("n"),u-=C.y,h+=C.y,c=u*l}else w("n"),w("e"),C.x>=0?d<m?c+=C.x:C.y<=0&&h<=v&&(x=!1):c+=C.x,C.y<=0?h>v&&(u-=C.y,h+=C.y):(u-=C.y,h+=C.y);c<0&&u<0?(s="sw",u=-u,c=-c,h-=u,p-=c):c<0?(s="nw",c=-c,p-=c):u<0&&(s="se",u=-u,h-=u);break;case"nw":if(l){if(C.y<=0&&(h<=v||p<=g)){x=!1;break}w("n"),u-=C.y,h+=C.y,c=u*l,p+=o.width-c}else w("n"),w("w"),C.x<=0?p>g?(c-=C.x,p+=C.x):C.y<=0&&h<=v&&(x=!1):(c-=C.x,p+=C.x),C.y<=0?h>v&&(u-=C.y,h+=C.y):(u-=C.y,h+=C.y);c<0&&u<0?(s="se",u=-u,c=-c,h-=u,p-=c):c<0?(s="ne",c=-c,p-=c):u<0&&(s="sw",u=-u,h-=u);break;case"sw":if(l){if(C.x<=0&&(p<=g||f>=A)){x=!1;break}w("w"),c-=C.x,p+=C.x,u=c/l}else w("s"),w("w"),C.x<=0?p>g?(c-=C.x,p+=C.x):C.y>=0&&f>=A&&(x=!1):(c-=C.x,p+=C.x),C.y>=0?f<A&&(u+=C.y):u+=C.y;c<0&&u<0?(s="ne",u=-u,c=-c,h-=u,p-=c):c<0?(s="se",c=-c,p-=c):u<0&&(s="nw",u=-u,h-=u);break;case"se":if(l){if(C.x>=0&&(d>=m||f>=A)){x=!1;break}w("e"),c+=C.x,u=c/l}else w("s"),w("e"),C.x>=0?d<m?c+=C.x:C.y>=0&&f>=A&&(x=!1):c+=C.x,C.y>=0?f<A&&(u+=C.y):u+=C.y;c<0&&u<0?(s="nw",u=-u,c=-c,h-=u,p-=c):c<0?(s="sw",c=-c,p-=c):u<0&&(s="ne",u=-u,h-=u);break;case"move":this.move(C.x,C.y),x=!1;break;case"zoom":this.zoom(N(a),t),x=!1;break;case"crop":if(!C.x||!C.y){x=!1;break}e=T(this.cropper),p=y.startX-e.left,h=y.startY-e.top,c=o.minWidth,u=o.minHeight,C.x>0?s=C.y>0?"se":"ne":C.x<0&&(p-=c,s=C.y>0?"sw":"nw"),C.y<0&&(h-=u),this.cropped||(B(this.cropBox,tt),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0))}x&&(o.width=c,o.height=u,o.left=p,o.top=h,this.action=s,this.renderCropBox()),b(a,function(t){t.startX=t.endX,t.startY=t.endY})}},Nt={crop:function(){return!this.ready||this.cropped||this.disabled||(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&w(this.dragBox,nt),B(this.cropBox,tt),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=Ct({},this.initialImageData),this.canvasData=Ct({},this.initialCanvasData),this.cropBoxData=Ct({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(Ct(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),B(this.dragBox,nt),w(this.cropBox,tt)),this},replace:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!this.disabled&&t&&(this.isImg&&(this.element.src=t),e?(this.url=t,this.image.src=t,this.ready&&(this.viewBoxImage.src=t,b(this.previews,function(e){e.getElementsByTagName("img")[0].src=t}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(t))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,B(this.cropper,$)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,w(this.cropper,$)),this},destroy:function(){var t=this.element;return t.cropper?(t.cropper=void 0,this.isImg&&this.replaced&&(t.src=this.originalUrl),this.uncreate(),this):this},move:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,i=this.canvasData,n=i.left,r=i.top;return this.moveTo(f(t)?t:n+Number(t),f(e)?e:r+Number(e))},moveTo:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,i=this.canvasData,n=!1;return t=Number(t),e=Number(e),this.ready&&!this.disabled&&this.options.movable&&(d(t)&&(i.left=t,n=!0),d(e)&&(i.top=e,n=!0),n&&this.renderCanvas(!0)),this},zoom:function(t,e){var i=this.canvasData;return t=Number(t),t=t<0?1/(1-t):1+t,this.zoomTo(i.width*t/i.naturalWidth,null,e)},zoomTo:function(t,e,i){var n=this.options,r=this.canvasData,o=r.width,a=r.height,s=r.naturalWidth,l=r.naturalHeight;if((t=Number(t))>=0&&this.ready&&!this.disabled&&n.zoomable){var p=s*t,h=l*t;if(!1===O(this.element,"zoom",{ratio:t,oldRatio:o/s,originalEvent:i}))return this;if(i){var c=this.pointers,u=T(this.cropper),f=c&&Object.keys(c).length?P(c):{pageX:i.pageX,pageY:i.pageY};r.left-=(p-o)*((f.pageX-u.left-r.left)/o),r.top-=(h-a)*((f.pageY-u.top-r.top)/a)}else v(e)&&d(e.x)&&d(e.y)?(r.left-=(p-o)*((e.x-r.left)/o),r.top-=(h-a)*((e.y-r.top)/a)):(r.left-=(p-o)/2,r.top-=(h-a)/2);r.width=p,r.height=h,this.renderCanvas(!0)}return this},rotate:function(t){return this.rotateTo((this.imageData.rotate||0)+Number(t))},rotateTo:function(t){return t=Number(t),d(t)&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=t%360,this.renderCanvas(!0,!0)),this},scaleX:function(t){var e=this.imageData.scaleY;return this.scale(t,d(e)?e:1)},scaleY:function(t){var e=this.imageData.scaleX;return this.scale(d(e)?e:1,t)},scale:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,i=this.imageData,n=!1;return t=Number(t),e=Number(e),this.ready&&!this.disabled&&this.options.scalable&&(d(t)&&(i.scaleX=t,n=!0),d(e)&&(i.scaleY=e,n=!0),n&&this.renderCanvas(!0,!0)),this},getData:function(){var t,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=this.options,n=this.imageData,r=this.canvasData,o=this.cropBoxData;if(this.ready&&this.cropped){t={x:o.left-r.left,y:o.top-r.top,width:o.width,height:o.height};var a=n.width/n.naturalWidth;if(b(t,function(e,i){t[i]=e/a}),e){var s=Math.round(t.y+t.height),l=Math.round(t.x+t.width);t.x=Math.round(t.x),t.y=Math.round(t.y),t.width=l-t.x,t.height=s-t.y}}else t={x:0,y:0,width:0,height:0};return i.rotatable&&(t.rotate=n.rotate||0),i.scalable&&(t.scaleX=n.scaleX||1,t.scaleY=n.scaleY||1),t},setData:function(t){var e=this.options,i=this.imageData,n=this.canvasData,r={};if(this.ready&&!this.disabled&&v(t)){var o=!1;e.rotatable&&d(t.rotate)&&t.rotate!==i.rotate&&(i.rotate=t.rotate,o=!0),e.scalable&&(d(t.scaleX)&&t.scaleX!==i.scaleX&&(i.scaleX=t.scaleX,o=!0),d(t.scaleY)&&t.scaleY!==i.scaleY&&(i.scaleY=t.scaleY,o=!0)),o&&this.renderCanvas(!0,!0);var a=i.width/i.naturalWidth;d(t.x)&&(r.left=t.x*a+n.left),d(t.y)&&(r.top=t.y*a+n.top),d(t.width)&&(r.width=t.width*a),d(t.height)&&(r.height=t.height*a),this.setCropBoxData(r)}return this},getContainerData:function(){return this.ready?Ct({},this.containerData):{}},getImageData:function(){return this.sized?Ct({},this.imageData):{}},getCanvasData:function(){var t=this.canvasData,e={};return this.ready&&b(["left","top","width","height","naturalWidth","naturalHeight"],function(i){e[i]=t[i]}),e},setCanvasData:function(t){var e=this.canvasData,i=e.aspectRatio;return this.ready&&!this.disabled&&v(t)&&(d(t.left)&&(e.left=t.left),d(t.top)&&(e.top=t.top),d(t.width)?(e.width=t.width,e.height=t.width/i):d(t.height)&&(e.height=t.height,e.width=t.height*i),this.renderCanvas(!0)),this},getCropBoxData:function(){var t,e=this.cropBoxData;return this.ready&&this.cropped&&(t={left:e.left,top:e.top,width:e.width,height:e.height}),t||{}},setCropBoxData:function(t){var e,i,n=this.cropBoxData,r=this.options.aspectRatio;return this.ready&&this.cropped&&!this.disabled&&v(t)&&(d(t.left)&&(n.left=t.left),d(t.top)&&(n.top=t.top),d(t.width)&&t.width!==n.width&&(e=!0,n.width=t.width),d(t.height)&&t.height!==n.height&&(i=!0,n.height=t.height),r&&(e?n.height=n.width/r:i&&(n.width=n.height*r)),this.renderCropBox()),this},getCroppedCanvas:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var e=this.canvasData,i=H(this.image,this.imageData,e,t);if(!this.cropped)return i;var n=this.getData(),r=n.x,o=n.y,a=n.width,l=n.height,p=i.width/Math.floor(e.naturalWidth);1!==p&&(r*=p,o*=p,a*=p,l*=p);var h=a/l,c=j({aspectRatio:h,width:t.maxWidth||1/0,height:t.maxHeight||1/0}),u=j({aspectRatio:h,width:t.minWidth||0,height:t.minHeight||0},"cover"),d=j({aspectRatio:h,width:t.width||(1!==p?i.width:a),height:t.height||(1!==p?i.height:l)}),f=d.width,g=d.height;f=Math.min(c.width,Math.max(u.width,f)),g=Math.min(c.height,Math.max(u.height,g));var v=document.createElement("canvas"),m=v.getContext("2d");v.width=x(f),v.height=x(g),m.fillStyle=t.fillColor||"transparent",m.fillRect(0,0,f,g);var A=t.imageSmoothingEnabled,b=void 0===A||A,y=t.imageSmoothingQuality;m.imageSmoothingEnabled=b,y&&(m.imageSmoothingQuality=y);var C,w,B,k,_,S,E=i.width,D=i.height,M=r,R=o;M<=-a||M>E?(M=0,C=0,B=0,_=0):M<=0?(B=-M,M=0,C=Math.min(E,a+M),_=C):M<=E&&(B=0,C=Math.min(a,E-M),_=C),C<=0||R<=-l||R>D?(R=0,w=0,k=0,S=0):R<=0?(k=-R,R=0,w=Math.min(D,l+R),S=w):R<=D&&(k=0,w=Math.min(l,D-R),S=w);var O=[M,R,C,w];if(_>0&&S>0){var T=f/a;O.push(B*T,k*T,_*T,S*T)}return m.drawImage.apply(m,[i].concat(s(O.map(function(t){return Math.floor(x(t))})))),v},setAspectRatio:function(t){var e=this.options;return this.disabled||f(t)||(e.aspectRatio=Math.max(0,t)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(t){var e=this.options,i=this.dragBox,n=this.face;if(this.ready&&!this.disabled){var r="crop"===t,o=e.movable&&"move"===t;t=r||o?t:"none",e.dragMode=t,E(i,ot,t),k(i,K,r),k(i,rt,o),e.cropBoxMovable||(E(n,ot,t),k(n,K,r),k(n,rt,o))}return this}},Lt=q.Cropper,Pt=function(){function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(n(this,t),!e||!vt.test(e.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=e,this.options=Ct({},mt,v(i)&&i),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return o(t,[{key:"init",value:function(){var t,e=this.element,i=e.tagName.toLowerCase();if(!e.cropper){if(e.cropper=this,"img"===i){if(this.isImg=!0,t=e.getAttribute("src")||"",this.originalUrl=t,!t)return;t=e.src}else"canvas"===i&&window.HTMLCanvasElement&&(t=e.toDataURL());this.load(t)}}},{key:"load",value:function(t){var e=this;if(t){this.url=t,this.imageData={};var i=this.element,n=this.options;if(n.rotatable||n.scalable||(n.checkOrientation=!1),!n.checkOrientation||!window.ArrayBuffer)return void this.clone();if(ft.test(t))return void(gt.test(t)?this.read(V(t)):this.clone());var r=new XMLHttpRequest,o=this.clone.bind(this);this.reloading=!0,this.xhr=r,r.onabort=o,r.onerror=o,r.ontimeout=o,r.onprogress=function(){"image/jpeg"!==r.getResponseHeader("content-type")&&r.abort()},r.onload=function(){e.read(r.response)},r.onloadend=function(){e.reloading=!1,e.xhr=null},n.checkCrossOrigin&&z(t)&&i.crossOrigin&&(t=U(t)),r.open("GET",t,!0),r.responseType="arraybuffer",r.withCredentials="use-credentials"===i.crossOrigin,r.send()}}},{key:"read",value:function(t){var e=this.options,i=this.imageData,n=X(t),r=0,o=1,a=1;if(n>1){this.url=Y(t,"image/jpeg");var s=G(n);r=s.rotate,o=s.scaleX,a=s.scaleY}e.rotatable&&(i.rotate=r),e.scalable&&(i.scaleX=o,i.scaleY=a),this.clone()}},{key:"clone",value:function(){var t=this.element,e=this.url,i=t.crossOrigin,n=e;this.options.checkCrossOrigin&&z(e)&&(i||(i="anonymous"),n=U(e)),this.crossOrigin=i,this.crossOriginUrl=n;var r=document.createElement("img");i&&(r.crossOrigin=i),r.src=n||e,r.alt=t.alt||"The image to crop",this.image=r,r.onload=this.start.bind(this),r.onerror=this.stop.bind(this),w(r,et),t.parentNode.insertBefore(r,t.nextSibling)}},{key:"start",value:function(){var t=this,e=this.image;e.onload=null,e.onerror=null,this.sizing=!0;var i=q.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(q.navigator.userAgent),n=function(e,i){Ct(t.imageData,{naturalWidth:e,naturalHeight:i,aspectRatio:e/i}),t.initialImageData=Ct({},t.imageData),t.sizing=!1,t.sized=!0,t.build()};if(e.naturalWidth&&!i)return void n(e.naturalWidth,e.naturalHeight);var r=document.createElement("img"),o=document.body||document.documentElement;this.sizingImage=r,r.onload=function(){n(r.width,r.height),i||o.removeChild(r)},r.src=e.src,i||(r.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",o.appendChild(r))}},{key:"stop",value:function(){var t=this.image;t.onload=null,t.onerror=null,t.parentNode.removeChild(t),this.image=null}},{key:"build",value:function(){if(this.sized&&!this.ready){var t=this.element,e=this.options,i=this.image,n=t.parentNode,r=document.createElement("div");r.innerHTML='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>';var o=r.querySelector(".".concat("cropper","-container")),a=o.querySelector(".".concat("cropper","-canvas")),s=o.querySelector(".".concat("cropper","-drag-box")),l=o.querySelector(".".concat("cropper","-crop-box")),p=l.querySelector(".".concat("cropper","-face"));this.container=n,this.cropper=o,this.canvas=a,this.dragBox=s,this.cropBox=l,this.viewBox=o.querySelector(".".concat("cropper","-view-box")),this.face=p,a.appendChild(i),w(t,tt),n.insertBefore(o,t.nextSibling),this.isImg||B(i,et),this.initPreview(),this.bind(),e.initialAspectRatio=Math.max(0,e.initialAspectRatio)||NaN,e.aspectRatio=Math.max(0,e.aspectRatio)||NaN,e.viewMode=Math.max(0,Math.min(3,Math.round(e.viewMode)))||0,w(l,tt),e.guides||w(l.getElementsByClassName("".concat("cropper","-dashed")),tt),e.center||w(l.getElementsByClassName("".concat("cropper","-center")),tt),e.background&&w(o,"".concat("cropper","-bg")),e.highlight||w(p,it),e.cropBoxMovable&&(w(p,rt),E(p,ot,"all")),e.cropBoxResizable||(w(l.getElementsByClassName("".concat("cropper","-line")),tt),w(l.getElementsByClassName("".concat("cropper","-point")),tt)),this.render(),this.ready=!0,this.setDragMode(e.dragMode),e.autoCrop&&this.crop(),this.setData(e.data),m(e.ready)&&R(t,"ready",e.ready,{once:!0}),O(t,"ready")}}},{key:"unbuild",value:function(){this.ready&&(this.ready=!1,this.unbind(),this.resetPreview(),this.cropper.parentNode.removeChild(this.cropper),B(this.element,tt))}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],[{key:"noConflict",value:function(){return window.Cropper=Lt,t}},{key:"setDefaults",value:function(t){Ct(mt,v(t)&&t)}}]),t}();return Ct(Pt.prototype,Ot,Tt,zt,Ut,Ft,Nt),Pt})}});